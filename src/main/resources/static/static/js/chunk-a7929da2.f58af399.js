(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a7929da2","chunk-cd4dea26","chunk-2d213371"],{1717:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box-view genesis-config"},[s("div",{staticClass:"box-body"},[s("div",{staticClass:"asset-list"},[s("div",{staticClass:"asset-title"},[t._v(t._s(t.$t("configuration.accountInfo")))]),t._l(t.genesisBlockAssets,(function(e,i){return s("div",{key:i,staticClass:"asset-item"},[s("el-button",{staticClass:"op-btn",on:{click:function(s){return t.handleAddAsset(!1,e,i)}}},[s("i",{staticClass:"el-icon-edit"}),t._v(" "+t._s(e.accountName))]),s("i",{staticClass:"op-icon el-icon-delete",on:{click:function(e){return t.handleDeleteAssets(i)}}})],1)})),s("div",{staticClass:"asset-item new-add",on:{click:t.handleAddAsset}},[s("el-button",{staticClass:"op-btn"},[t._v(t._s(t.$t("configuration.addNew")))]),s("i",{staticClass:"op-icon el-icon-circle-plus-outline"})],1)],2),s("div",{staticClass:"asset-list"},[s("div",{staticClass:"asset-title"},[t._v(t._s(t.$t("configuration.witnessNodeInfo")))]),t._l(t.genesisBlockWitnesses,(function(e,i){return s("div",{key:i,staticClass:"asset-item"},[s("el-button",{staticClass:"op-btn",on:{click:function(s){return t.handleViewWitness(e,i)}}},[t._v(t._s(e.address))])],1)}))],2)]),s("div",{staticClass:"box-footer align-right"},[s("el-button",{staticClass:"im-button large",attrs:{loading:t.loading,type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("base.nextStep")))])],1),t.assetDialogVisible?s("add-asset-dialog",{attrs:{visible:t.assetDialogVisible,"is-adding":t.isAddingAsset,"genesis-block-assets":t.genesisBlockAssets,"asset-info":t.currentAssetInfo,"asset-index":t.currentAssetIndex},on:{"update:visible":function(e){t.assetDialogVisible=e},success:t.getConfigInfo}}):t._e(),t.witnessDialogVisible?s("view-witness-dialog",{attrs:{visible:t.witnessDialogVisible,"witness-info":t.currentWitnessInfo},on:{"update:visible":function(e){t.witnessDialogVisible=e}}}):t._e()],1)},n=[],o=(s("a4d3"),s("4de4"),s("a434"),s("e439"),s("dbb4"),s("b64b"),s("d3b7"),s("159b"),s("ade3")),r=s("f76b"),a=s("ac70");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){Object(o["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={name:"genesis-config",components:{ViewWitnessDialog:a["default"],AddAssetDialog:r["default"]},props:{initConfigInfo:{default:function(){return function(){return Promise.resolve({})}}}},data:function(){return{configInfo:{},isAddingAsset:!0,assetDialogVisible:!1,currentAssetInfo:{},currentAssetIndex:-1,witnessDialogVisible:!1,currentWitnessInfo:{address:"",url:"",voteCount:"",privateKey:""},loading:!1}},computed:{genesisAssetConfig:function(){return this.configInfo.genesisAssetConfig||{}},genesisWitnessConfig:function(){return this.configInfo.genesisWitnessConfig||{}},genesisBlockAssets:function(){return this.genesisAssetConfig.genesis_block_assets||[]},genesisBlockWitnesses:function(){return this.genesisWitnessConfig.genesis_block_witnesses||[]}},created:function(){this.getConfigInfo()},methods:{getConfigInfo:function(){var t=this;this.initConfigInfo("genesis").then((function(e){return t.configInfo=e}))},handleAddAsset:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;this.currentAssetInfo=c({accountName:"",accountType:"",address:"",balance:""},t?{}:e),this.currentAssetIndex=t?this.genesisBlockAssets.length:s,this.isAddingAsset=t,this.assetDialogVisible=!0},handleDeleteAssets:function(t){var e=this;this.genesisBlockAssets.splice(t,1),this.$_api.configuration.genesisAssetConfig({assets:this.genesisBlockAssets},(function(t,s){t||e.$notify({type:"success",title:e.$t("base.successful"),message:e.$t("configuration.assetDeleteSuccess")})}))},handleViewWitness:function(t){this.currentWitnessInfo=t,this.witnessDialogVisible=!0},handleSubmit:function(){this.$emit("next-step")}}},f=u,d=(s("6bcc"),s("2877")),g=Object(d["a"])(f,i,n,!1,null,"787e8a38",null);e["default"]=g.exports},"498a":function(t,e,s){"use strict";var i=s("23e7"),n=s("58a8").trim,o=s("e070");i({target:"String",proto:!0,forced:o("trim")},{trim:function(){return n(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,s){var i=s("1d80"),n=s("5899"),o="["+n+"]",r=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),l=function(t){return function(e){var s=String(i(e));return 1&t&&(s=s.replace(r,"")),2&t&&(s=s.replace(a,"")),s}};t.exports={start:l(1),end:l(2),trim:l(3)}},"61f7":function(t,e,s){"use strict";s.d(e,"c",(function(){return i})),s.d(e,"b",(function(){return n})),s.d(e,"d",(function(){return o})),s.d(e,"a",(function(){return r}));s("c975"),s("498a");function i(t){var e=/^[0-9]*[1-9][0-9]*$/;return e.test(t)}function n(t){var e=/^\d+$/;return e.test(t)}function o(t){var e=/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/;return e.test(t)}function r(t){var e=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;return e.test(t)}},"6bcc":function(t,e,s){"use strict";var i=s("bff4"),n=s.n(i);n.a},8055:function(t,e,s){},"94fd":function(t,e,s){"use strict";var i=s("8055"),n=s.n(i);n.a},ac70:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{attrs:{visible:t.dialogVisible,"custom-class":"im-dialog","close-on-click-modal":!1,"close-on-press-escape":!1,width:"680px",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[s("div",{staticClass:"title"},[t._v(t._s(t.$t("configuration.witnessDialogTitle")))])]),s("div",{staticClass:"dialog-content"},[s("el-form",{staticClass:"im-form",attrs:{model:t.witnessInfo,"label-width":"120px","label-position":"right"}},[s("el-form-item",{attrs:{label:"Address :",prop:"address"}},[t._v(" "+t._s(t.witnessInfo.address)+" ")]),s("el-form-item",{attrs:{label:"URL :",prop:"url"}},[t._v(" "+t._s(t.witnessInfo.url)+" ")]),s("el-form-item",{attrs:{label:"VoteCount :",prop:"voteCount"}},[t._v(" "+t._s(t.witnessInfo.voteCount)+" ")])],1)],1)])},n=[],o={name:"DialogViewGenesisWitness",props:{visible:{},witnessInfo:{}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}}},r=o,a=s("2877"),l=Object(a["a"])(r,i,n,!1,null,"b2d4476a",null);e["default"]=l.exports},bff4:function(t,e,s){},e070:function(t,e,s){var i=s("d039"),n=s("5899"),o="​᠎";t.exports=function(t){return i((function(){return!!n[t]()||o[t]()!=o||n[t].name!==t}))}},e27c:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box-view quick-config"},[s("div",{staticClass:"box-body"},[s("div",{staticClass:"box-card"},[s("div",{staticClass:"config-title"},[t._v(t._s(t.$t("configuration.genesisInfo")))]),s("genesis-config",{attrs:{"init-config-info":t.initConfigInfo}})],1),s("div",{staticClass:"box-card"},[s("div",{staticClass:"config-title"},[t._v(t._s(t.$t("configuration.p2pConfig")))]),s("el-form",{ref:"p2p-config-form",staticClass:"im-form",attrs:{rules:t.formRules,model:t.form,"label-position":"top"}},[s("el-form-item",{attrs:{prop:"node_p2p_version",label:"p2pVersion"}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("p2pVersion "),s("i",{staticClass:"help-tips"},[t._v("("+t._s(t.$t("configuration.helpTips.p2pVersion"))+")")])]),s("el-input",{attrs:{type:"number",maxlength:50,placeholder:t.$t("base.pleaseInput")},model:{value:t.form.node_p2p_version,callback:function(e){t.$set(t.form,"node_p2p_version","string"===typeof e?e.trim():e)},expression:"form.node_p2p_version"}})],1),s("el-form-item",{attrs:{label:"listenPort",prop:"node_listen_port"}},[s("span",{attrs:{slot:"label"},slot:"label"},[t._v("listenPort "),s("i",{staticClass:"help-tips"},[t._v("("+t._s(t.$t("configuration.helpTips.listenPort"))+")")])]),s("el-input",{attrs:{maxlength:50,placeholder:t.$t("base.pleaseInput")},model:{value:t.form.node_listen_port,callback:function(e){t.$set(t.form,"node_listen_port","string"===typeof e?e.trim():e)},expression:"form.node_listen_port"}})],1)],1)],1)]),s("div",{staticClass:"box-footer align-right"},[s("el-button",{staticClass:"im-button large",attrs:{loading:t.loading,type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("base.complete")))])],1)])},n=[],o=(s("d3b7"),s("1717")),r=s("61f7"),a={name:"quick-config",components:{GenesisConfig:o["default"]},data:function(){return{form:{node_p2p_version:"",node_listen_port:""},loading:!1}},computed:{formRules:function(){var t=this,e=function(e,s,i){Object(r["b"])(s)?i():i(new Error(t.$t("configuration.valid.gteZeroInt")))},s=function(e,s,i){s>2147483647?i(new Error(t.$t("configuration.valid.maxNumberValue"))):i()},i=function(e,s,i){11111==s?i(new Error(t.$t("configuration.valid.mainnetPlaceholder"))):i()},n=function(e,s,i){20180622==s?i(new Error(t.$t("configuration.valid.testnetPlaceholder"))):i()},o=function(e,s,i){1==s?i(new Error(t.$t("configuration.valid.specialPlaceholder"))):i()},a=function(e,s,i){s>65535?i(new Error(t.$t("configuration.valid.maxPortValue"))):i()},l={node_p2p_version:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:e,trigger:"blur"},{validator:i,trigger:"blur"},{validator:n,trigger:"blur"},{validator:o,trigger:"blur"},{validator:s,trigger:"blur"}],node_listen_port:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:e,trigger:"blur"},{validator:a,trigger:"blur"}]};return l}},created:function(){},methods:{initConfigInfo:function(t){var e=this;return new Promise((function(s){e.$_api.configuration.getConfigInfo({},(function(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i)return s({});"genesis"===t&&s({genesisAssetConfig:n.genesisAssetConfig,genesisWitnessConfig:n.genesisWitnessConfig}),e.form.node_p2p_version=n.p2pConfig.node_p2p_version,e.form.node_listen_port=n.p2pConfig.node_listen_port}))}))},handleSubmit:function(){var t=this;this.$refs["p2p-config-form"].validate((function(e){if(e){var s={p2pVersion:t.form.node_p2p_version,listenPort:t.form.node_listen_port};t.loading=!0,t.$_api.configuration.p2pConfig(s,(function(e){t.loading=!1,e||t.$notify({type:"success",title:t.$t("base.successful"),message:t.$t("base.success.operate")})}))}}))}}},l=a,c=(s("94fd"),s("2877")),u=Object(c["a"])(l,i,n,!1,null,"3012ec5b",null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-a7929da2.f58af399.js.map