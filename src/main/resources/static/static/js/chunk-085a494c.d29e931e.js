(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-085a494c"],{1276:function(e,t,n){"use strict";var o=n("d784"),i=n("44e7"),r=n("825a"),a=n("1d80"),s=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),d=n("9263"),p=n("d039"),f=[].push,m=Math.min,v=4294967295,g=!p((function(){return!RegExp(v,"y")}));o("split",2,(function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=String(a(this)),r=void 0===n?v:n>>>0;if(0===r)return[];if(void 0===e)return[o];if(!i(e))return t.call(o,e,r);var s,l,c,u=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,g=new RegExp(e.source,p+"g");while(s=d.call(g,o)){if(l=g.lastIndex,l>m&&(u.push(o.slice(m,s.index)),s.length>1&&s.index<o.length&&f.apply(u,s.slice(1)),c=s[0].length,m=l,u.length>=r))break;g.lastIndex===s.index&&g.lastIndex++}return m===o.length?!c&&g.test("")||u.push(""):u.push(o.slice(m)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=a(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,i,n):o.call(String(i),t,n)},function(e,i){var a=n(o,e,this,i,o!==t);if(a.done)return a.value;var d=r(e),p=String(this),f=s(d,RegExp),_=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),h=new f(g?d:"^(?:"+d.source+")",b),x=void 0===i?v:i>>>0;if(0===x)return[];if(0===p.length)return null===u(h,p)?[p]:[];var $=0,y=0,I=[];while(y<p.length){h.lastIndex=g?y:0;var w,C=u(h,g?p:p.slice(y));if(null===C||(w=m(c(h.lastIndex+(g?0:y)),p.length))===$)y=l(p,y,_);else{if(I.push(p.slice($,y)),I.length===x)return I;for(var N=1;N<=C.length-1;N++)if(I.push(C[N]),I.length===x)return I;y=$=w}}return I.push(p.slice($)),I}]}),!g)},"56e3":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box-view p2p-config"},[n("div",{staticClass:"box-body"},[n("el-form",{ref:"p2p-config-form",staticClass:"im-form",attrs:{rules:e.formRules,model:e.form,"label-position":"top"}},[n("el-form-item",{attrs:{prop:"node_p2p_version",label:"p2pVersion"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("p2pVersion "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configuration.helpTips.p2pVersion"))+")")])]),n("el-input",{attrs:{type:"number",min:"0",max:"2147483647",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_p2p_version,callback:function(t){e.$set(e.form,"node_p2p_version","string"===typeof t?t.trim():t)},expression:"form.node_p2p_version"}})],1),n("el-form-item",{attrs:{label:"listenPort",prop:"node_listen_port"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("listenPort "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configuration.helpTips.listenPort"))+")")])]),n("el-input",{attrs:{type:"number",max:"65535",min:"0",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_listen_port,callback:function(t){e.$set(e.form,"node_listen_port","string"===typeof t?t.trim():t)},expression:"form.node_listen_port"}})],1),n("el-form-item",{staticClass:"seed-node-list",attrs:{label:"seedNodeList",prop:"seed_node_ip_list"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("seedNodeList "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configuration.helpTips.seedNodeList"))+")")])]),n("el-checkbox-group",{model:{value:e.form.seed_node_ip_list,callback:function(t){e.$set(e.form,"seed_node_ip_list",t)},expression:"form.seed_node_ip_list"}},e._l(e.seedNodeIpList,(function(t,o){return n("el-checkbox",{key:o,staticClass:"checkBox",attrs:{label:t}},[n("el-input",{attrs:{placeholder:e.$t("configuration.valid.listenPort"),disabled:""},model:{value:e.form.node_listen_port,callback:function(t){e.$set(e.form,"node_listen_port",t)},expression:"form.node_listen_port"}},[n("template",{staticStyle:{width:"100px"},slot:"prepend"},[e._v(e._s(t))])],2)],1)})),1)],1),n("div",{staticClass:"more-form"},[n("el-button",{attrs:{type:"text"},on:{click:function(t){e.showMore=!e.showMore}}},[n("i",{staticClass:"el-icon-arrow-right"}),e._v(" "+e._s(e.$t("configuration.moreSetting")))])],1),n("el-collapse-transition",[e.showMore?n("div",[n("el-form-item",{attrs:{label:"maxActiveNodes",prop:"node_maxActiveNodes"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("maxActiveNodes "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configuration.helpTips.maxActiveNodes"))+")")])]),n("el-input",{attrs:{type:"number",min:"0",max:"2147483647",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_maxActiveNodes,callback:function(t){e.$set(e.form,"node_maxActiveNodes","string"===typeof t?t.trim():t)},expression:"form.node_maxActiveNodes"}})],1),n("el-form-item",{attrs:{label:"maxActiveNodesWithSameIp",prop:"node_maxActiveNodesWithSameIp"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("maxActiveNodesWithSameIp "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configuration.helpTips.maxActiveNodesWithSameIp"))+")")])]),n("el-input",{attrs:{type:"number",min:"0",max:"2147483647",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_maxActiveNodesWithSameIp,callback:function(t){e.$set(e.form,"node_maxActiveNodesWithSameIp","string"===typeof t?t.trim():t)},expression:"form.node_maxActiveNodesWithSameIp"}})],1),n("el-form-item",{attrs:{label:"activeConnectFactor",prop:"node_activeConnectFactor"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("activeConnectFactor")]),n("el-input-number",{attrs:{"controls-position":"right",min:0,max:2147483647,step:.1,placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_activeConnectFactor,callback:function(t){e.$set(e.form,"node_activeConnectFactor","string"===typeof t?t.trim():t)},expression:"form.node_activeConnectFactor"}})],1),n("el-form-item",{attrs:{label:"connectFactor",prop:"node_connectFactor"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("connectFactor")]),n("el-input-number",{attrs:{"controls-position":"right",min:0,max:2147483647,step:.1,placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_connectFactor,callback:function(t){e.$set(e.form,"node_connectFactor","string"===typeof t?t.trim():t)},expression:"form.node_connectFactor"}})],1)],1):e._e()])],1)],1),n("div",{staticClass:"box-footer align-right"},[n("el-button",{staticClass:"im-button large",on:{click:e.handleCancel}},[e._v(e._s(e.$t("base.prevStep")))]),n("el-button",{staticClass:"im-button large",attrs:{loading:e.loading,disabled:e.configLoading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("base.nextStep")))])],1)])},i=[],r=(n("a4d3"),n("99af"),n("4de4"),n("d81d"),n("e439"),n("dbb4"),n("b64b"),n("ac1f"),n("1276"),n("159b"),n("ade3")),a=n("61f7");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={name:"p2p-config",props:{initConfigInfo:{type:Function,required:!0},configLoading:Boolean},data:function(){return{showMore:!1,moreSetting:!1,form:{seed_node_ip_list:[],node_p2p_version:"",node_listen_port:"",node_maxActiveNodes:"",node_maxActiveNodesWithSameIp:"",node_connectFactor:"",node_activeConnectFactor:""},seedNodeIpList:[],loading:!1}},computed:{formRules:function(){var e=[{validator:a["a"].numMin(0,this.$t("configuration.valid.gteZeroInt")),trigger:"blur"},{validator:a["a"].numMax(2147483647,this.$t("configuration.valid.maxNumberValue")+": 2147483647"),trigger:"blur"}],t=[{validator:a["a"].numEqual(11111,this.$t("configuration.valid.mainnetPlaceholder")+": 11111"),trigger:"blur"},{validator:a["a"].numEqual(20180622,this.$t("configuration.valid.testnetPlaceholder")+": 20180622"),trigger:"blur"},{validator:a["a"].numEqual(1,this.$t("configuration.valid.specialPlaceholder")+": 1"),trigger:"blur"}],n=[{validator:a["a"].numMin(0,this.$t("configuration.valid.gteZeroInt")),trigger:"blur"},{validator:a["a"].numMax(65535,this.$t("configuration.valid.maxPortValue")),trigger:"blur"}],o=[{validator:a["a"].numMax(2147483647,this.$t("configuration.valid.maxNumberValue")+": 2147483647",!0,!1),trigger:"blur"},{validator:a["a"].numTwoDecimal(this.$t("configuration.valid.validTwoDecimal")+": 0.01"),trigger:"blur"}];return{node_p2p_version:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"}].concat(e,t),node_listen_port:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"}].concat(n),seed_node_ip_list:[{required:!0,message:this.$t("base.pleaseSelect"),trigger:"change"}],node_maxActiveNodes:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"}].concat(e),node_maxActiveNodesWithSameIp:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"}].concat(e),node_activeConnectFactor:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"}].concat(o),node_connectFactor:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"}].concat(o)}}},created:function(){this.getConfigInfo()},methods:{getConfigInfo:function(){var e=this;this.initConfigInfo().then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.seed_node_ip_list||[],o=n.map((function(e){return e.split(":")[0]}));e.seedNodeIpList=t.allNodes||[],e.form=l({},e.form,{},t,{seed_node_ip_list:o})}))},handleSubmit:function(){var e=this;this.$refs["p2p-config-form"].validate((function(t){if(t){var n={p2pVersion:e.form.node_p2p_version,listenPort:e.form.node_listen_port,seed_node_ip_list:e.form.seed_node_ip_list.map((function(t){return t+'":"'+e.form.node_listen_port})),maxActiveNodes:e.form.node_maxActiveNodes,nodeActiveConnectFactor:e.form.node_activeConnectFactor,nodeMaxActiveNodesWithSameIp:e.form.node_maxActiveNodesWithSameIp,connectFactor:e.form.node_connectFactor};e.loading=!0,e.$_api.configuration.p2pConfig(n,(function(t){e.loading=!1,t||(e.$notify({type:"success",title:e.$t("base.successful"),message:e.$t("configuration.p2pSaveSuccess")}),e.$emit("next-step"))}))}}))},handleCancel:function(){this.$emit("prev-step")}}},u=c,d=(n("af80"),n("2877")),p=Object(d["a"])(u,o,i,!1,null,"119d4530",null);t["default"]=p.exports},"61f7":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return c}));var a=function(){function e(){o(this,e)}return r(e,[{key:"isNumber",value:function(e){return/^\d+(\.\d+)?$/.test(e)}},{key:"isInteger",value:function(e){return/^\d+$/.test(e)}},{key:"isTwoDecimal",value:function(e){return/^([1-9]\d*|0)(\.\d{1,2})$/.test(e)}},{key:"isIP",value:function(e){return/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e)}}]),e}(),s=new a,l=function(){function e(){o(this,e)}return r(e,[{key:"validIP",value:function(e){return function(t,n,o){var i=!1;s.isIP(n)||(i=!0),i?o(new Error(e)):o()}}},{key:"numEqual",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(o,i,r){var a=!1;s.isNumber(i)?i==e?a=!0:n||i==e||(a=!0):a=!0,a?r(new Error(t)):r()}}},{key:"numMin",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(i,r,a){var l=!1;s.isNumber(r)?o&&!s.isInteger(r)?l=!0:r<e?l=!0:n||r!=e||(l=!0):l=!0,l?a(new Error(t)):a()}}},{key:"numMax",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(i,r,a){var l=!1;s.isNumber(r)?o&&!s.isInteger(r)?l=!0:r>e?l=!0:n||r!=e||(l=!0):l=!0,l?a(new Error(t)):a()}}},{key:"numTwoDecimal",value:function(e){return function(t,n,o){var i=!1;s.isTwoDecimal(n)||(i=!0),i?o(new Error(e)):o()}}}]),e}(),c=new l},af80:function(e,t,n){"use strict";var o=n("f205"),i=n.n(o);i.a},f205:function(e,t,n){}}]);
//# sourceMappingURL=chunk-085a494c.d29e931e.js.map