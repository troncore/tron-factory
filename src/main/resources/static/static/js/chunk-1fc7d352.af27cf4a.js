(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fc7d352","chunk-ec854776","chunk-e4c43ab2","chunk-2d20f8f4"],{"19c3":function(e,t,r){},"2b73":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box-view cross-chain-config"},[r("div",{staticClass:"box-header title"},[e._v(e._s(e.$t("tronCrossChain")))]),r("div",{staticClass:"box-body"},[r("el-form",{ref:"cross-chain-config-form",attrs:{model:e.form,rules:e.crossChainRules,"label-position":"top"}},[r("el-form-item",{staticClass:"baseFormItem mgt20",attrs:{label:"enableCrossChain",prop:"enableCrossChain"}},[r("el-switch",{attrs:{disabled:""},model:{value:e.form.enableCrossChain,callback:function(t){e.$set(e.form,"enableCrossChain",t)},expression:"form.enableCrossChain"}})],1),r("br"),r("el-form-item",{staticClass:"baseFormItem",attrs:{label:"maxValidatorNumber",prop:"maxValidatorNumber"}},[r("el-input",{attrs:{maxlength:50,placeholder:e.$t("tronMaxValidatorNumberPlaceholder"),disabled:""},model:{value:e.form.maxValidatorNumber,callback:function(t){e.$set(e.form,"maxValidatorNumber","string"===typeof t?t.trim():t)},expression:"form.maxValidatorNumber"}})],1),r("el-form-item",{staticClass:"baseFormItem",attrs:{label:"minValidatorNumber",prop:"minValidatorNumber"}},[r("el-input",{attrs:{maxlength:50,placeholder:e.$t("tronMinValidatorNumberPlaceholder"),disabled:""},model:{value:e.form.minValidatorNumber,callback:function(t){e.$set(e.form,"minValidatorNumber","string"===typeof t?t.trim():t)},expression:"form.minValidatorNumber"}})],1),r("el-form-item",{staticClass:"baseFormItem",attrs:{label:"crossChainFee",prop:"crossChainFee"}},[r("el-input-number",{attrs:{min:0,step:.01,maxlength:50,"controls-position":"right",placeholder:e.$t("tronSettingPlaceholder"),disabled:""},model:{value:e.form.crossChainFee,callback:function(t){e.$set(e.form,"crossChainFee","string"===typeof t?t.trim():t)},expression:"form.crossChainFee"}})],1)],1)],1),r("div",{staticClass:"box-footer align-right"},[r("el-button",{staticClass:"im-button large",on:{click:e.handleCancel}},[e._v(e._s(e.$t("base.prevStep")))]),r("el-button",{staticClass:"im-button large",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("base.nextStep")))])],1)])},n=[],o=(r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),a=r("61f7");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={name:"cross-chain-config",props:{configInfo:{type:Object,required:!0},initConfigInfo:{type:Function,required:!0}},data:function(){return{form:{},loading:!1}},computed:{crossChainRules:function(){var e=this,t=function(t,r,i){Object(a["c"])(r)?i():i(new Error(e.$t("tronSettingNumberPlaceholder")))},r=function(t,r,i){r>2147483647?i(new Error(e.$t("tronNumberPlaceholder"))):i()},i=function(t,r,i){e.form.minValidatorNumber&&r<e.form.minValidatorNumber?i(new Error(e.$t("tronSettingMaxNumberPlaceholder"))):i()},n=function(t,r,i){e.form.maxValidatorNumber&&r>e.form.maxValidatorNumber?i(new Error(e.$t("tronSettingMinNumberPlaceholder"))):i()},o=function(t,r,i){Object(a["d"])(r)?i():i(new Error(e.$t("validTwoDecimal")))},s={enableCrossChain:[{required:!0,message:this.$t("tronSettingPlaceholder"),trigger:"change"}],maxValidatorNumber:[{required:!0,message:this.$t("tronMaxValidatorNumberPlaceholder"),trigger:"change"},{message:this.$t("tronSettingNumberPlaceholder"),validator:t,trigger:"blur"},{message:this.$t("tronSettingMaxNumberPlaceholder"),validator:i,trigger:"blur"},{required:!0,validator:r,trigger:"blur"}],minValidatorNumber:[{required:!0,message:this.$t("tronMinValidatorNumberPlaceholder"),trigger:"change"},{message:this.$t("tronSettingNumberPlaceholder"),validator:t,trigger:"blur"},{message:this.$t("tronSettingMinNumberPlaceholder"),validator:n,trigger:"blur"},{required:!0,validator:r,trigger:"blur"}],crossChainFee:[{required:!0,message:this.$t("tronSettingPlaceholder"),trigger:"change"},{message:this.$t("tronSettingNumberTwoDecimal"),validator:o,trigger:"blur"},{required:!0,validator:r,trigger:"blur"}]};return s}},watch:{configInfo:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form=l({},e.crossChainConfig)},immediate:!0}},methods:{handleSubmit:function(){var e=this;this.$refs["cross-chain-config-form"].validate((function(t){if(t){var r=l({},e.form);e.loading=!0,e.$_api.configManage.crossChainConfig(r,(function(t){e.loading=!1,t||(e.$message.success(e.$t("tronSettingp2pSaveSuccess")),e.$emit("next-step"))}))}}))},handleCancel:function(){this.$emit("prev-step")}}},d=c,p=r("2877"),u=Object(p["a"])(d,i,n,!1,null,"e33f4d0e",null);t["default"]=u.exports},"2e9b":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box-view  network-config"},[r("div",{staticClass:"box-header title"},[e._v(e._s(e.$t("configManage.netWorkConfig")))]),r("div",{staticClass:"box-body"},[r("el-form",{ref:"network-config-form",attrs:{rules:e.networkRules,model:e.form}},[r("el-form-item",{attrs:{prop:"node_maxHttpConnectNumber"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("maxHttpConnectNumber "),r("i",{staticClass:"help-tips"},[e._v("( "+e._s(e.$t("configManage.helpTips.maxHttpConnectNumber"))+" )")])]),r("el-input",{attrs:{maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_maxHttpConnectNumber,callback:function(t){e.$set(e.form,"node_maxHttpConnectNumber","string"===typeof t?t.trim():t)},expression:"form.node_maxHttpConnectNumber"}})],1),r("el-form-item",{attrs:{prop:"node_http_fullNodePort"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("httpFullNodePort "),r("i",{staticClass:"help-tips"},[e._v("( "+e._s(e.$t("configManage.helpTips.httpFullNodePort"))+" )")])]),r("el-input",{attrs:{maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_http_fullNodePort,callback:function(t){e.$set(e.form,"node_http_fullNodePort","string"===typeof t?t.trim():t)},expression:"form.node_http_fullNodePort"}})],1),r("el-form-item",{attrs:{prop:"node_http_solidityPort"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("httpSolidityPort "),r("i",{staticClass:"help-tips"},[e._v("( "+e._s(e.$t("configManage.helpTips.httpSolidityPort"))+" )")])]),r("el-input",{attrs:{maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_http_solidityPort,callback:function(t){e.$set(e.form,"node_http_solidityPort","string"===typeof t?t.trim():t)},expression:"form.node_http_solidityPort"}})],1),r("el-form-item",{attrs:{prop:"node_rpc_port"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("rpcPort "),r("i",{staticClass:"help-tips"},[e._v("( "+e._s(e.$t("configManage.helpTips.rpcPort"))+" )")])]),r("el-input",{attrs:{maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_rpc_port,callback:function(t){e.$set(e.form,"node_rpc_port","string"===typeof t?t.trim():t)},expression:"form.node_rpc_port"}})],1),r("el-form-item",{attrs:{prop:"node_rpc_solidityPort"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("rpcSolidityPort "),r("i",{staticClass:"help-tips"},[e._v("( "+e._s(e.$t("configManage.helpTips.rpcSolidityPort"))+" )")])]),r("el-input",{attrs:{maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_rpc_solidityPort,callback:function(t){e.$set(e.form,"node_rpc_solidityPort","string"===typeof t?t.trim():t)},expression:"form.node_rpc_solidityPort"}})],1)],1)],1),r("div",{staticClass:"box-footer align-right"},[r("el-button",{staticClass:"im-button large",on:{click:e.handleCancel}},[e._v(e._s(e.$t("base.prevStep")))]),r("el-button",{staticClass:"im-button large",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("base.nextStep")))])],1)])},n=[],o=(r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),a=r("61f7");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={name:"network-config",props:{configInfo:{type:Object,required:!0},initConfigInfo:{type:Function,required:!0}},data:function(){return{form:{node_maxHttpConnectNumber:"",node_http_solidityPort:"",node_http_fullNodePort:"",node_rpc_port:"",node_rpc_solidityPort:""},loading:!1}},computed:{networkRules:function(){var e=this,t=function(t,r,i){Object(a["b"])(r)?i():i(new Error(e.$t("configManage.valid.gteZeroInt")))},r=function(t,r,i){r>2147483647?i(new Error(e.$t("configManage.valid.maxNumberValue"))):i()},i=function(t,r,i){r>65535?i(new Error(e.$t("configManage.valid.maxPortValue"))):i()};return{node_maxHttpConnectNumber:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:r,trigger:"blur"}],node_http_fullNodePort:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}],node_http_solidityPort:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}],node_rpc_port:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}],node_rpc_solidityPort:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}]}}},watch:{configInfo:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form=l({},e.networkConfig)},immediate:!0}},methods:{handleSubmit:function(){var e=this;this.$refs["network-config-form"].validate((function(t){if(t){var r={maxHttpConnectNumber:e.form.node_maxHttpConnectNumber,rpcPort:e.form.node_rpc_port,rpcSolidityPort:e.form.node_rpc_solidityPort,httpFullNodePort:e.form.node_http_fullNodePort,httpSolidityPort:e.form.node_http_solidityPort};e.loading=!0,e.$_api.configManage.networkConfig(r,(function(t){e.loading=!1,t||(e.$message.success(e.$t("configManage.networkSaveSuccess")),e.$emit("next-step"))}))}}))},handleCancel:function(){this.$emit("prev-step")}}},d=c,p=r("2877"),u=Object(p["a"])(d,i,n,!1,null,"46edd5ba",null);t["default"]=u.exports},"5efd":function(e,t,r){"use strict";var i=r("dc9e"),n=r.n(i);n.a},"7e9f":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-view config-manage"},[r("div",{staticClass:"im-steps"},[r("div",{class:["im-step genesis",{active:1<=e.currentStep,"is-current":1===e.currentStep}],on:{click:function(t){return e.handleSkipStep(1)}}},[r("span",[e._v(e._s(e.$t("tronSettingGenesis")))])]),r("div",{class:["im-step base",{active:2<=e.currentStep,"is-current":2===e.currentStep}],on:{click:function(t){return e.handleSkipStep(2)}}},[r("span",[e._v(e._s(e.$t("tronSettingBase")))])]),r("div",{class:["im-step network",{active:3<=e.currentStep,"is-current":3===e.currentStep}],on:{click:function(t){return e.handleSkipStep(3)}}},[r("span",[e._v(e._s(e.$t("tronSettingHttp")))])]),r("div",{class:["im-step database",{active:4<=e.currentStep,"is-current":4===e.currentStep}],on:{click:function(t){return e.handleSkipStep(4)}}},[r("span",[e._v(e._s(e.$t("tronSettingDb")))])]),r("div",{class:["im-step p2p",{active:5<=e.currentStep,"is-current":5===e.currentStep}],on:{click:function(t){return e.handleSkipStep(5)}}},[r("span",[e._v(e._s(e.$t("tronSettingP2p")))])])]),r(e.stepMapConfig[e.currentStep],{tag:"component",attrs:{"config-info":e.configInfo,"init-config-info":e.initConfigInfo},on:{"prev-step":e.handlePrevStep,"next-step":e.handleNextStep}})],1)},n=[],o=(r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("ade3")),a=r("c73a"),s=r("ea64"),l=r("2e9b"),c=r("9645"),d=r("7066"),p=r("2b73"),u=r("2f62");function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b={name:"config-manage",components:{GenesisConfig:a["default"],BaseConfig:s["default"],NetworkConfig:l["default"],DatabaseConfig:c["default"],P2pConfig:d["default"],CrossChainConfig:p["default"]},data:function(){return{currentStep:1,configInfo:{genesisAssetConfig:{},genesisWitnessConfig:{},baseSettingConfig:{},networkConfig:{},dbConfig:{},p2pConfig:{},crossChainConfig:{}},stepMapConfig:{1:"GenesisConfig",2:"BaseConfig",3:"NetworkConfig",4:"DatabaseConfig",5:"P2pConfig",6:"CrossChainConfig"},stepRange:{min:1,max:5}}},created:function(){this.initConfigInfo()},methods:g({},Object(u["c"])("app",{updateMenuList:"updateMenuList"}),{initConfigInfo:function(){var e=this;return new Promise((function(t){e.$_api.configManage.getConfigInfo({},(function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r||(e.configInfo=i,t(e.configInfo))}))}))},handleSkipStep:function(e){this.checkP2PConfigSeedNode(e)&&(this.currentStep=e)},handlePrevStep:function(){var e=this.currentStep-1;this.currentStep=e>=this.stepRange.min?e:this.stepRange.min},handleNextStep:function(){var e=this.currentStep+1;e<=this.stepRange.max?(this.currentStep=e,this.initConfigInfo()):(this.updateMenuList({activeName:"import-plugin"}),this.$router.push({path:"/import-plugin"}))},checkP2PConfigSeedNode:function(e){if(e<=5)return!0;var t=this.configInfo.p2pConfig.seed_node_ip_list||[];return!!t.length||(this.$message.warning(this.$t("tronP2pSeedNodeSelectNextTips")),!1)}})},m=b,h=(r("5efd"),r("2877")),v=Object(h["a"])(m,i,n,!1,null,"53634b3e",null);t["default"]=v.exports},"82c3":function(e,t,r){"use strict";var i=r("8ada"),n=r.n(i);n.a},"8ada":function(e,t,r){},9645:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box-view database-config"},[r("div",{staticClass:"box-header title"},[e._v(e._s(e.$t("configManage.databaseConfig")))]),r("div",{staticClass:"box-body"},[r("el-form",{ref:"database-config-form",attrs:{rules:e.formRules,model:e.form,"label-position":"top"}},[r("el-form-item",{attrs:{label:e.$t("configManage.isWriteSync"),prop:"storage_db_sync"}},[r("el-switch",{model:{value:e.form.storage_db_sync,callback:function(t){e.$set(e.form,"storage_db_sync",t)},expression:"form.storage_db_sync"}})],1),r("el-form-item",{attrs:{label:e.$t("configManage.isOpenTransaction"),prop:"storage_transHistory_switch"}},[r("el-switch",{attrs:{"active-value":"on","inactive-value":"off"},model:{value:e.form.storage_transHistory_switch,callback:function(t){e.$set(e.form,"storage_transHistory_switch",t)},expression:"form.storage_transHistory_switch"}})],1),r("el-form-item",{attrs:{label:e.$t("configManage.selectDatabaseConfig"),prop:"storage_db_engine"}},[r("el-radio-group",{model:{value:e.form.storage_db_engine,callback:function(t){e.$set(e.form,"storage_db_engine",t)},expression:"form.storage_db_engine"}},[r("el-radio",{attrs:{label:"LEVELDB"}},[e._v("leveldb")]),r("el-radio",{attrs:{label:"ROCKSDB"}},[e._v("rocksdb")])],1)],1),r("el-form-item",{attrs:{label:e.$t("configManage.isOpenIndexDirectory"),prop:"storage_index_directory"}},[r("el-switch",{attrs:{"active-value":"index","inactive-value":"is not open index directory"},model:{value:e.form.storage_index_directory,callback:function(t){e.$set(e.form,"storage_index_directory",t)},expression:"form.storage_index_directory"}})],1),r("el-form-item",{attrs:{label:e.$t("configManage.isNeedToUpdateAsset"),prop:"storage_needToUpdateAsset"}},[r("el-switch",{model:{value:e.form.storage_needToUpdateAsset,callback:function(t){e.$set(e.form,"storage_needToUpdateAsset",t)},expression:"form.storage_needToUpdateAsset"}})],1)],1)],1),r("div",{staticClass:"box-footer align-right"},[r("el-button",{staticClass:"im-button large",on:{click:e.handleCancel}},[e._v(e._s(e.$t("base.prevStep")))]),r("el-button",{staticClass:"im-button large",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("base.nextStep")))])],1)])},n=[],o=(r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3"));function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={name:"database-config",props:{configInfo:{type:Object,required:!0},initConfigInfo:{type:Function,required:!0}},data:function(){return{form:{},formRules:{storage_db_sync:[{required:!0,message:this.$t("base.pleaseSelect"),trigger:"change"}]},showContent:!0,loading:!1}},watch:{configInfo:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form=s({},e.dbConfig)},immediate:!0}},methods:{handleSubmit:function(){var e=this;this.$refs["database-config-form"].validate((function(t){if(t){var r={isDBSync:e.form.storage_db_sync,isOpenTransaction:e.form.storage_transHistory_switch,dbEnine:e.form.storage_db_engine,indexDirectory:e.form.storage_index_directory,needToUpdateAsset:e.form.storage_needToUpdateAsset};e.loading=!0,e.$_api.configManage.dbConfig(r,(function(t){e.loading=!1,t||(e.$message.success(e.$t("configManage.databaseSaveSuccess")),e.$emit("next-step"))}))}}))},handleCancel:function(){this.$emit("prev-step")}}},c=l,d=(r("82c3"),r("2877")),p=Object(d["a"])(c,i,n,!1,null,"594a9792",null);t["default"]=p.exports},b3c0:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{visible:e.dialogVisible,"custom-class":"im-dialog","close-on-click-modal":!1,"close-on-press-escape":!1,width:"680px",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[r("div",{staticClass:"title"},[e._v(e._s(e.$t("configManage.witnessDialogTitle")))])]),r("div",{staticClass:"dialog-content"},[r("el-form",{attrs:{model:e.witnessInfo,"label-width":"120px","label-position":"right"}},[r("el-form-item",{attrs:{label:"Address :",prop:"address"}},[e._v(" "+e._s(e.witnessInfo.address)+" ")]),r("el-form-item",{attrs:{label:"URL :",prop:"url"}},[e._v(" "+e._s(e.witnessInfo.url)+" ")]),r("el-form-item",{attrs:{label:"VoteCount :",prop:"voteCount"}},[e._v(" "+e._s(e.witnessInfo.voteCount)+" ")])],1)],1)])},n=[],o={name:"DialogViewGenesisWitness",props:{visible:{},witnessInfo:{}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}}},a=o,s=r("2877"),l=Object(s["a"])(a,i,n,!1,null,"9979a37e",null);t["default"]=l.exports},c73a:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box-view genesis-config"},[r("div",{staticClass:"box-header title"},[e._v(e._s(e.$t("configManage.genesisInfoConfig")))]),r("div",{staticClass:"box-body"},[r("div",{staticClass:"asset-list"},[r("div",{staticClass:"asset-title"},[e._v("Asset List")]),e._l(e.genesisBlockAssets,(function(t,i){return r("div",{key:i,staticClass:"asset-item"},[r("el-button",{staticStyle:{width:"100%"},on:{click:function(r){return e.handleAddAsset(!1,t,i)}}},[e._v(e._s(t.accountName)+" "),r("i",{staticClass:"el-icon-edit"})]),r("i",{staticClass:"delete-btn el-icon-circle-close",on:{click:function(t){return e.handleDeleteAssets(i)}}})],1)})),r("el-button",{staticClass:"el-icon-plus",attrs:{type:"primary",size:"small"},on:{click:e.handleAddAsset}},[e._v(" New Asset")])],2),r("div",{staticClass:"asset-list"},[r("div",{staticClass:"asset-title"},[e._v("Witness List")]),e._l(e.genesisBlockWitnesses,(function(t,i){return r("div",{key:i,staticClass:"asset-item"},[r("el-button",{staticStyle:{width:"100%"},on:{click:function(r){return e.handleViewWitness(t,i)}}},[e._v(e._s(t.address))])],1)}))],2)]),r("div",{staticClass:"box-footer align-right"},[r("el-button",{staticClass:"im-button large",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("base.nextStep")))])],1),e.assetDialogVisible?r("add-asset-dialog",{attrs:{visible:e.assetDialogVisible,"is-adding":e.isAddingAsset,"genesis-block-assets":e.genesisBlockAssets,"asset-info":e.currentAssetInfo,"asset-index":e.currentAssetIndex},on:{"update:visible":function(t){e.assetDialogVisible=t},success:e.initConfigInfo}}):e._e(),e.witnessDialogVisible?r("view-witness-dialog",{attrs:{visible:e.witnessDialogVisible,"witness-info":e.currentWitnessInfo},on:{"update:visible":function(t){e.witnessDialogVisible=t}}}):e._e()],1)},n=[],o=(r("a4d3"),r("4de4"),r("a434"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),a=r("cbfc"),s=r("b3c0");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={name:"genesis-config",components:{ViewWitnessDialog:s["default"],AddAssetDialog:a["default"]},props:{configInfo:{type:Object,required:!0},initConfigInfo:{type:Function,required:!0}},data:function(){return{isAddingAsset:!0,assetDialogVisible:!1,currentAssetInfo:{},currentAssetIndex:-1,witnessDialogVisible:!1,currentWitnessInfo:{address:"",url:"",voteCount:"",privateKey:""},loading:!1}},computed:{genesisAssetConfig:function(){return this.configInfo.genesisAssetConfig||{}},genesisWitnessConfig:function(){return this.configInfo.genesisWitnessConfig||{}},genesisBlockAssets:function(){return this.genesisAssetConfig.genesis_block_assets||[]},genesisBlockWitnesses:function(){return this.genesisWitnessConfig.genesis_block_witnesses||[]}},methods:{handleAddAsset:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.currentAssetInfo=c({accountName:"",accountType:"",address:"",balance:""},e?{}:t),this.currentAssetIndex=e?this.genesisBlockAssets.length:r,this.isAddingAsset=e,this.assetDialogVisible=!0},handleDeleteAssets:function(e){var t=this;this.genesisBlockAssets.splice(e,1),this.$_api.configManage.genesisAssetConfig({assets:this.genesisBlockAssets},(function(e,r){e||t.$message.success(t.$t("configManage.assetDeleteSuccess"))}))},handleViewWitness:function(e){this.currentWitnessInfo=e,this.witnessDialogVisible=!0},handleSubmit:function(){this.$emit("next-step")}}},p=d,u=(r("d0ed"),r("2877")),f=Object(u["a"])(p,i,n,!1,null,"0012af30",null);t["default"]=f.exports},d0ed:function(e,t,r){"use strict";var i=r("19c3"),n=r.n(i);n.a},dc9e:function(e,t,r){},ea64:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box-view base-config"},[r("div",{staticClass:"box-header title"},[e._v(e._s(e.$t("configManage.baseConfig")))]),r("div",{staticClass:"box-body"},[r("el-form",{ref:"base-config-form",attrs:{rules:e.baseRules,model:e.form}},[r("el-form-item",{attrs:{prop:"chainId"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("chainId "),r("i",{staticClass:"help-tips"},[e._v("( "+e._s(e.$t("configManage.helpTips.chainId"))+" )")])]),r("el-input",{attrs:{type:"number",min:"0",max:"2147483647",maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.chainId,callback:function(t){e.$set(e.form,"chainId","string"===typeof t?t.trim():t)},expression:"form.chainId"}})],1),r("el-form-item",{attrs:{prop:"chainName"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("chainName")]),r("el-input",{attrs:{maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.chainName,callback:function(t){e.$set(e.form,"chainName","string"===typeof t?t.trim():t)},expression:"form.chainName"}})],1),r("el-form-item",{attrs:{prop:"block_maintenanceTimeInterval"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("maintenanceTimeInterval "),r("i",{staticClass:"help-tips"},[e._v("( "+e._s(e.$t("configManage.helpTips.maintenanceTimeInterval"))+" ：mm)")])]),r("el-input",{attrs:{type:"number",min:"0",maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.block_maintenanceTimeInterval,callback:function(t){e.$set(e.form,"block_maintenanceTimeInterval","string"===typeof t?t.trim():t)},expression:"form.block_maintenanceTimeInterval"}})],1),r("div",{staticClass:"more-form"},[r("el-button",{staticClass:"el-icon-arrow-right el-icon--right",attrs:{type:"text"},on:{click:function(t){e.showMore=!e.showMore}}},[e._v(e._s(e.$t("configManage.moreSetting")))])],1),r("el-collapse-transition",[e.showMore?r("div",[r("el-form-item",{attrs:{prop:"block_proposalExpireTime"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("blockProposalExpireTime "),r("i",{staticClass:"help-tips"},[e._v("( "+e._s(e.$t("configManage.helpTips.blockProposalExpireTime"))+"：mm )")])]),r("el-input",{attrs:{type:"number",min:"0",maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.block_proposalExpireTime,callback:function(t){e.$set(e.form,"block_proposalExpireTime","string"===typeof t?t.trim():t)},expression:"form.block_proposalExpireTime"}})],1),r("el-form-item",{attrs:{prop:"node_blockProducedTimeOut"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("nodeBlockProducedTimeOut "),r("i",{staticClass:"help-tips"},[e._v("( "+e._s(e.$t("configManage.helpTips.nodeBlockProducedTimeOut"))+"：mm )")])]),r("el-input",{attrs:{type:"number",min:"0",maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_blockProducedTimeOut,callback:function(t){e.$set(e.form,"node_blockProducedTimeOut","string"===typeof t?t.trim():t)},expression:"form.node_blockProducedTimeOut"}})],1),r("el-form-item",{attrs:{prop:"node_minParticipationRate"}},[r("span",{attrs:{slot:"label"},slot:"label"},[e._v("nodeMinParticipationRate "),r("i",{staticClass:"help-tips"},[e._v("( "+e._s(e.$t("configManage.helpTips.nodeMinParticipationRate"))+"：mm )")])]),r("el-input",{attrs:{maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_minParticipationRate,callback:function(t){e.$set(e.form,"node_minParticipationRate","string"===typeof t?t.trim():t)},expression:"form.node_minParticipationRate"}})],1)],1):e._e()])],1)],1),r("div",{staticClass:"box-footer align-right"},[r("el-button",{staticClass:"im-button large",on:{click:e.handleCancel}},[e._v(e._s(e.$t("base.prevStep")))]),r("el-button",{staticClass:"im-button large",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("base.nextStep")))])],1)])},n=[],o=(r("a4d3"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("ade3")),a=r("61f7");function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={name:"base-config",props:{configInfo:{type:Object,required:!0},initConfigInfo:{type:Function,required:!0}},data:function(){return{form:{},showMore:!1,loading:!1}},computed:{baseRules:function(){var e=this,t=function(t,r,i){Object(a["c"])(r)?i():i(new Error(e.$t("configManage.valid.gtZeroInt")))},r=function(t,r,i){Object(a["b"])(r)?i():i(new Error(e.$t("configManage.valid.gteZeroInt")))},i=function(t,r,i){r>2147483647?i(new Error(e.$t("configManage.valid.maxNumberValue"))):i()};return{chainId:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}],chainName:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"}],block_proposalExpireTime:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}],block_maintenanceTimeInterval:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}],node_blockProducedTimeOut:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}],node_minParticipationRate:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:r,trigger:"blur"},{validator:i,trigger:"blur"}]}}},watch:{configInfo:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form=l({},e.baseSettingConfig)},immediate:!0}},methods:{handleSubmit:function(){var e=this;this.$refs["base-config-form"].validate((function(t){if(t){var r={chainId:e.form.chainId,chainName:e.form.chainName,blockProducedTimeOut:e.form.node_blockProducedTimeOut,maintenanceTimeInterval:e.form.block_maintenanceTimeInterval,proposalExpireTime:e.form.block_proposalExpireTime,minParticipationRate:e.form.node_minParticipationRate};e.loading=!0,e.$_api.configManage.baseSettingConfig(r,(function(t){e.loading=!1,t||(e.$message.success(e.$t("configManage.baseSaveSuccess")),e.$emit("next-step"))}))}}))},handleCancel:function(){this.$emit("prev-step")}}},d=c,p=r("2877"),u=Object(p["a"])(d,i,n,!1,null,"75ef86b6",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-1fc7d352.af27cf4a.js.map