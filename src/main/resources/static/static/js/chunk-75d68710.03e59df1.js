(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75d68710","chunk-3a5d3574","chunk-cf66949c"],{"11f8":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"token-diy"},[1===t.step?n("token-params",{on:{step:t.handleStep}}):t._e(),2===t.step?n("connect-tronlink",{on:{step:t.handleStep}}):t._e(),3===t.step?n("verify-params",{on:{step:t.handleStep}}):t._e(),4===t.step?n("deploy-result",{on:{step:t.handleStep}}):t._e()],1)},s=[],i=(n("a9e3"),n("88b5")),r=n("67ed"),o=n("b97e"),c=n("56c0"),l={name:"token-diy",components:{ConnectTronlink:o["default"],VerifyParams:r["default"],TokenParams:i["default"],DeployResult:c["default"]},data:function(){return{step:0}},created:function(){this.init()},methods:{init:function(){this.step=Number(localStorage.getItem("tokenDIYStep")||1)},handleStep:function(t){this.step+=t,localStorage.setItem("tokenDIYStep",this.step)}}},u=l,d=(n("b70a"),n("2877")),m=Object(d["a"])(u,a,s,!1,null,"4d125e33",null);e["default"]=m.exports},"20b4":function(t,e,n){"use strict";var a=n("aeb9"),s=n.n(a);s.a},3409:function(t,e,n){"use strict";var a=n("5492"),s=n.n(a);s.a},5492:function(t,e,n){},"56c0":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"deploy-result card-view"},[n("div",{staticClass:"im-card card-main"},[n("div",{staticClass:"card-header"},[n("span",{staticClass:"card-title"},[t._v(t._s(t.$t("发行成功")))])]),n("div",{staticClass:"card-body"},[n("ul",{staticClass:"success-list"},[n("li",{staticClass:"item"},[n("span",{staticClass:"name"},[t._v(t._s(t.$t("合约名称"))+": ")]),n("span",{staticClass:"value"},[t._v(t._s(t.contract.name))])]),n("li",{staticClass:"item"},[n("span",{staticClass:"name"},[t._v(t._s(t.$t("合约地址"))+": ")]),n("span",{staticClass:"value"},[t._v(t._s(t.contract.id))])]),n("li",{staticClass:"item"},[n("span",{staticClass:"name"},[t._v(t._s(t.$t("交易哈希值"))+": ")]),n("span",{staticClass:"value"},[t._v(t._s(t.contract.address))])])])])]),n("div",{staticClass:"card-footer center"},[n("el-button",{staticClass:"im-button largest",attrs:{type:"primary"},on:{click:t.handleReDeploy}},[n("i",{staticClass:"el-icon-coin"}),t._v(" "+t._s(t.$t("继续发行")))])],1)])},s=[],i=n("ade3"),r=(n("96cf"),n("1da1")),o={name:"deploy-result",data:function(){return{form:{},deploySuccess:!1,contract:{id:"",name:"",address:""},signed:"",loading:!1,disable:!1,timeId:null}},created:function(){this.init()},destroyed:function(){clearInterval(this.timeId)},methods:{init:function(){var t,e=JSON.parse(localStorage.getItem("tokenDIY"))||{};(null===(t=e.contract)||void 0===t?void 0:t.id)?(this.deploySuccess=!0,this.contract=e.contract):this.$emit("step",-3)},handleCancel:function(){this.$emit("step",-1)},handleSubmit:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,s,i,r,o,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,n=t.compile(),a=n.abi,s=n.bytecode,i={name:t.form.tokenName,abi:a,bytecode:"0x"+s,feeLimit:1e9,parameters:[t.form.totalSupply,t.form.tokenName,t.form.tokenSymbol],userFeePercentage:10,originEnergyLimit:1e7},e.prev=3,e.next=6,window.tronWeb.transactionBuilder.createSmartContract(i,t.form.tokenAccount);case 6:return r=e.sent,e.next=9,window.tronWeb.trx.sign(r);case 9:return o=e.sent,e.next=12,window.tronWeb.trx.sendRawTransaction(o);case 12:if(c=e.sent,!c.result){e.next=17;break}t.timeId=setInterval((function(){return t.checkDeploy(o.txID)}),3e3),e.next=18;break;case 17:throw new Error(window.tronWeb.toAscii(c.message));case 18:e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](3),t.$notify({type:"error",title:t.$t("base.error"),message:e.t0}),t.loading=!1;case 24:case"end":return e.stop()}}),e,null,[[3,20]])})))()},checkDeploy:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,window.tronWeb.trx.getTransactionInfo(t);case 2:if(s=n.sent,console.log("transactionInfo: ",s),s){n.next=9;break}throw clearInterval(e.timeId),new Error("Not getting transaction info!");case 9:s.id&&"SUCCESS"===(null===(a=s.receipt)||void 0===a?void 0:a.result)&&(clearInterval(e.timeId),e.loading=!1,e.$notify.success({title:e.$t("base.successful"),message:e.$t("Successful deployed contract!")}),e.deploySuccess=!0,e.contract={id:s.id,name:e.form.tokenName,address:window.tronWeb.address.fromHex(s.contract_address)},i=JSON.parse(localStorage.getItem("tokenDIY"))||{},i.contract=e.contract,localStorage.setItem("tokenDIY",JSON.stringify(i)));case 10:case"end":return n.stop()}}),n)})))()},compile:function(){var t="",e="";try{var n=wrapper(window.Module),a="tokenDIY.sol",s="TokenDIY",r=contract(s),o={language:"Solidity",sources:Object(i["a"])({},a,{content:r}),settings:{outputSelection:{"*":{"*":["*"]}}}},c=JSON.parse(n.compile(JSON.stringify(o)));t=JSON.stringify(c.contracts[a][s].abi),e=c.contracts[a][s].evm.bytecode.object}catch(l){t="",e="",console.log("Solidity compiler error: ",l)}return{abi:t,bytecode:e}},handleReDeploy:function(){localStorage.removeItem("tokenDIY"),this.$emit("step",-2)}}},c=o,l=(n("3409"),n("2877")),u=Object(l["a"])(c,a,s,!1,null,"29ef196f",null);e["default"]=u.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),s=n("5899"),i="["+s+"]",r=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),c=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(r,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"6d72":function(t,e,n){"use strict";var a=n("f3a9"),s=n.n(a);s.a},7156:function(t,e,n){var a=n("861d"),s=n("d2bb");t.exports=function(t,e,n){var i,r;return s&&"function"==typeof(i=e.constructor)&&i!==n&&a(r=i.prototype)&&r!==n.prototype&&s(t,r),t}},"835c":function(t,e,n){},"88b5":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"token-params card-view"},[n("div",{staticClass:"im-card card-main"},[t._m(0),n("div",{staticClass:"card-body"},[n("el-form",{ref:"im-form",staticClass:"im-form",attrs:{rules:t.formRules,model:t.form,"label-position":"top"}},[n("el-form-item",{attrs:{prop:"tokenName"}},[n("span",{attrs:{slot:"label"},slot:"label"},[t._v(t._s(t.$t("代币名称")))]),n("div",{staticClass:"item-inner"},[n("el-input",{attrs:{size:"large",maxlength:"25",clearable:""},model:{value:t.form.tokenName,callback:function(e){t.$set(t.form,"tokenName","string"===typeof e?e.trim():e)},expression:"form.tokenName"}}),n("span",{staticClass:"help-info"},[t._v(t._s(t.$t("代币的名称，3 ~ 25个英文字符")))])],1)]),n("el-form-item",{attrs:{prop:"tokenSymbol"}},[n("span",{attrs:{slot:"label"},slot:"label"},[t._v(t._s(t.$t("代币符号")))]),n("div",{staticClass:"item-inner"},[n("el-input",{attrs:{size:"large",maxlength:"4",clearable:""},model:{value:t.form.tokenSymbol,callback:function(e){t.$set(t.form,"tokenSymbol","string"===typeof e?e.trim():e)},expression:"form.tokenSymbol"}}),n("span",{staticClass:"help-info"},[t._v(t._s(t.$t("3 ~ 4英文字符，例如ETH, BTC, BAT 等，不可包含空格")))])],1)]),n("el-form-item",{attrs:{prop:"decimals"}},[n("span",{attrs:{slot:"label"},slot:"label"},[t._v(t._s(t.$t("小数位数")))]),n("div",{staticClass:"item-inner"},[n("el-input",{attrs:{size:"large",maxlength:"2",clearable:""},model:{value:t.form.decimals,callback:function(e){t.$set(t.form,"decimals","string"===typeof e?e.trim():e)},expression:"form.decimals"}}),n("span",{staticClass:"help-info"},[t._v(t._s(t.$t("代币的小数位数，0 ~ 18位，大多数代币选择18位小数")))])],1)]),n("el-form-item",{staticClass:"margin-bottom-0",attrs:{prop:"totalSupply"}},[n("span",{attrs:{slot:"label"},slot:"label"},[t._v(t._s(t.$t("总发行量")))]),n("div",{staticClass:"item-inner"},[n("el-input",{attrs:{size:"large",clearable:""},model:{value:t.form.totalSupply,callback:function(e){t.$set(t.form,"totalSupply","string"===typeof e?e.trim():e)},expression:"form.totalSupply"}}),n("span",{staticClass:"help-info"},[t._v(t._s(t.$t("要发行的代币总量，最小1，最大1000000000000000")))])],1)])],1)],1)]),n("div",{staticClass:"card-footer center"},[n("el-button",{staticClass:"im-button largest",attrs:{loading:t.loading,disabled:t.disable,type:"primary"},on:{click:t.handleSubmit}},[n("i",{staticClass:"el-icon-coin"}),t._v(" "+t._s(t.$t("tokenDIY.releaseToken"))+" ")])],1)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-header"},[n("span",{staticClass:"card-title"},[t._v("代币发行参数")])])}],i={name:"token-params",data:function(){return{form:{tokenName:"",tokenSymbol:"",decimals:"18",totalSupply:"",tokenType:"trc20",tokenAccount:""},loading:!1,disable:!1}},computed:{formRules:function(){var t=function(t,e,n){/^[a-zA-Z]{3,25}$/.test(e)?n():n(new Error(" "))},e=function(t,e,n){/^[a-zA-Z]{3,4}$/.test(e)?n():n(new Error(" "))},n=function(t,e,n){/^\d+$/.test(e)&&e>=0&&e<=18?n():n(new Error(" "))},a=function(t,e,n){/^\d+$/.test(e)&&e>=1&&e<=1e15?n():n(new Error(" "))};return{tokenName:[{required:!0,message:" ",trigger:"change"},{validator:t,trigger:"change"}],tokenSymbol:[{required:!0,message:" ",trigger:"change"},{validator:e,trigger:"change"}],decimals:[{required:!0,message:" ",trigger:"change"},{validator:n,trigger:"change"}],totalSupply:[{required:!0,message:" ",trigger:"change"},{validator:a,trigger:"change"}]}}},created:function(){this.init()},methods:{init:function(){var t,e,n,a,s,i=JSON.parse(localStorage.getItem("tokenDIY"))||{};this.form={tokenName:null!==(t=i.tokenName)&&void 0!==t?t:this.form.tokenName,tokenSymbol:null!==(e=i.tokenSymbol)&&void 0!==e?e:this.form.tokenSymbol,decimals:null!==(n=i.decimals)&&void 0!==n?n:this.form.decimals,totalSupply:null!==(a=i.totalSupply)&&void 0!==a?a:this.form.totalSupply,tokenType:null!==(s=i.tokenType)&&void 0!==s?s:this.form.tokenType}},handleCancel:function(){},handleSubmit:function(){var t=this;this.$refs["im-form"].validate((function(e){e&&(localStorage.setItem("tokenDIY",JSON.stringify(t.form)),t.$emit("step",1))}))}}},r=i,o=(n("6d72"),n("2877")),c=Object(o["a"])(r,a,s,!1,null,"fa43d858",null);e["default"]=c.exports},"8e6c":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tooltip",{attrs:{effect:t.effect,placement:t.placement}},[n("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.content)},slot:"content"}),n("i",{staticClass:"icon-question fa fa-question-circle-o",style:t.myStyle})])},s=[],i={name:"im-tooltip",props:{effect:{type:String,default:"dark"},placement:{type:String,default:"top"},content:{},marginLeft:String,marginRight:String},computed:{myStyle:function(){var t={};return"undefined"!==typeof this.marginLeft&&(t.marginLeft=this.marginLeft),"undefined"!==typeof this.marginRight&&(t.marginRight=this.marginRight),t}}},r=i,o=(n("bd22"),n("2877")),c=Object(o["a"])(r,a,s,!1,null,"15cacff2",null);e["a"]=c.exports},a9e3:function(t,e,n){"use strict";var a=n("83ab"),s=n("da84"),i=n("94ca"),r=n("6eeb"),o=n("5135"),c=n("c6b6"),l=n("7156"),u=n("c04e"),d=n("d039"),m=n("7c73"),f=n("241c").f,p=n("06cf").f,v=n("9bf2").f,g=n("58a8").trim,h="Number",b=s[h],k=b.prototype,y=c(m(k))==h,_=function(t){var e,n,a,s,i,r,o,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,s=49;break;case 79:case 111:a=8,s=55;break;default:return+l}for(i=l.slice(2),r=i.length,o=0;o<r;o++)if(c=i.charCodeAt(o),c<48||c>s)return NaN;return parseInt(i,a)}return+l};if(i(h,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var S,C=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof C&&(y?d((function(){k.valueOf.call(n)})):c(n)!=h)?l(new b(_(e)),n,C):_(e)},I=a?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;I.length>w;w++)o(b,S=I[w])&&!o(C,S)&&v(C,S,p(b,S));C.prototype=k,k.constructor=C,r(s,h,C)}},abd2:function(t,e,n){},aeb9:function(t,e,n){},b70a:function(t,e,n){"use strict";var a=n("abd2"),s=n.n(a);s.a},b97e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"connect-tronlink card-view"},[n("div",{staticClass:"im-card card-main"},[t._m(0),n("div",{staticClass:"card-body"},[t.isInstallTronLink?t.isConnectedTronLink?n("div",{staticClass:"help-tips"},[n("p",{staticClass:"account"},[t._v("代币所有者账号 "),n("im-tooltip",{attrs:{content:"代币所有者账号将持有本次发行的全部代币"}}),t._v("："+t._s(t.tokenAccount))],1)]):n("div",{staticClass:"help-tips"},[n("p",[t._v("TronLink插件已安装，但未登录！")]),n("p",[t._v("请登录TronLink并刷新页面后再继续后面的操作")])]):n("div",{staticClass:"help-tips"},[n("p",[t._v("我们检测到你还没有安装 "),n("el-link",{attrs:{href:"https://www.tronlink.org/",type:"primary",target:"_blank"}},[t._v("TronLink(波宝钱包)")]),t._v(" 插件！")],1),n("p",[t._v("请安装TronLink并刷新页面后再继续后面的操作")]),n("br"),n("el-button",{staticClass:"im-button largest",attrs:{plain:"",type:"primary",round:""},on:{click:t.handleExtend}},[t._v("Chrome 扩展")])],1)])]),n("div",{staticClass:"card-footer space-between"},[n("el-button",{staticClass:"im-button largest",on:{click:t.handleCancel}},[t._v(t._s(t.$t("base.prevStep")))]),n("el-button",{staticClass:"im-button largest",attrs:{disabled:!t.isConnectedTronLink,type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("base.nextStep")))])],1)])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-header"},[n("span",{staticClass:"card-title"},[t._v("连接TronLink钱包")])])}],i=n("8e6c"),r={name:"connect-tronlink",components:{ImTooltip:i["a"]},data:function(){return{disable:!1,isInstallTronLink:!1,isConnectedTronLink:!1,tokenAccount:"",timeID:null}},created:function(){this.init()},destroyed:function(){clearInterval(this.timeID)},methods:{init:function(){this.getTronWeb(),this.timeID=setInterval(this.getTronWeb,300)},getTronWeb:function(){window.tronWeb?(this.isInstallTronLink=!0,window.tronWeb.defaultAddress.base58?(this.isConnectedTronLink=!0,this.tokenAccount=window.tronWeb.defaultAddress.base58):(this.isConnectedTronLink=!1,this.tokenAccount="")):(this.isInstallTronLink=!1,this.isConnectedTronLink=!1,this.tokenAccount="")},handleExtend:function(){window.open("https://chrome.google.com/webstore/detail/tronlink%EF%BC%88%E6%B3%A2%E5%AE%9D%E9%92%B1%E5%8C%85%EF%BC%89/ibnejdfjmmkpcnlpebklmnkoeoihofec","_blank")},handleCancel:function(){this.$emit("step",-1)},handleSubmit:function(){var t=JSON.parse(localStorage.getItem("tokenDIY"))||{};t.tokenAccount=this.tokenAccount,localStorage.setItem("tokenDIY",JSON.stringify(t)),this.$emit("step",1)}}},o=r,c=(n("20b4"),n("2877")),l=Object(c["a"])(o,a,s,!1,null,"3cfce340",null);e["default"]=l.exports},bd22:function(t,e,n){"use strict";var a=n("835c"),s=n.n(a);s.a},f3a9:function(t,e,n){}}]);
//# sourceMappingURL=chunk-75d68710.03e59df1.js.map