(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-95af8b86"],{"18b3":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"box-view database-config"},[o("div",{staticClass:"box-body"},[o("el-form",{ref:"database-config-form",attrs:{model:t.form,rules:t.formRules,"label-position":"left","label-width":"200px"}},[o("el-form-item",{attrs:{label:t.$t("configuration.selectDatabaseConfig"),prop:"storage_db_engine"}},[o("el-radio-group",{model:{value:t.form.dbEnine,callback:function(e){t.$set(t.form,"dbEnine",e)},expression:"form.dbEnine"}},[o("el-radio",{attrs:{label:"LEVELDB"}},[t._v("LevelDB")]),o("el-radio",{attrs:{label:"ROCKSDB"}},[t._v("RocksDB")])],1)],1),o("el-form-item",{attrs:{label:t.$t("configuration.isWriteSync"),prop:"storage_db_sync"}},[o("el-switch",{model:{value:t.form.isDBSync,callback:function(e){t.$set(t.form,"isDBSync",e)},expression:"form.isDBSync"}})],1),o("el-form-item",{attrs:{label:t.$t("configuration.isOpenTransaction"),prop:"storage_transHistory_switch"}},[o("el-switch",{attrs:{"active-value":"on","inactive-value":"off"},model:{value:t.form.isOpenTransaction,callback:function(e){t.$set(t.form,"isOpenTransaction",e)},expression:"form.isOpenTransaction"}})],1),o("div",{staticClass:"more-setting"},[o("el-checkbox",{on:{change:t.handleChangeCheckCustom},model:{value:t.checkDBCustom,callback:function(e){t.checkDBCustom=e},expression:"checkDBCustom"}},[o("span",{staticClass:"check-label"},[t._v(t._s(t.$t("configuration.dbCustomModule")))])])],1),o("el-form-item",{ref:"db-custom",staticClass:"db-custom",attrs:{prop:"dbCustom"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},maxlength:300,disabled:!t.checkDBCustom,placeholder:t.$t(t.checkDBCustom?"configuration.valid.inputDBCustom":"configuration.valid.checkDBCustom")},model:{value:t.form.dbCustom,callback:function(e){t.$set(t.form,"dbCustom","string"===typeof e?e.trim():e)},expression:"form.dbCustom"}})],1)],1)],1),o("div",{staticClass:"box-footer align-right"},[o("el-button",{staticClass:"im-button large",on:{click:t.handleCancel}},[t._v(t._s(t.$t("base.prevStep")))]),o("el-button",{staticClass:"im-button large",attrs:{loading:t.loading,disabled:t.configLoading,type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("base.nextStep")))])],1)])},i=[],s=(o("a4d3"),o("4de4"),o("e439"),o("dbb4"),o("b64b"),o("8a79"),o("159b"),o("ade3"));function a(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function r(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach((function(e){Object(s["a"])(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var c={name:"database-config",props:{initConfigInfo:{type:Function,required:!0},configLoading:Boolean},data:function(){return{form:{dbEnine:"",isDBSync:!1,isOpenTransaction:"",dbCustom:""},checkDBCustom:!1,showContent:!0,loading:!1}},computed:{formRules:function(){var t=this,e=function(e,o,n){t.checkDBCustom&&!t.form.dbCustom.endsWith(".jar")?n(new Error(t.$t("configuration.valid.pathEndJAR"))):n()};return{dbCustom:[{required:this.checkDBCustom,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:e,trigger:"blur"}]}}},created:function(){this.getConfigInfo()},methods:{getConfigInfo:function(){var t=this;this.initConfigInfo().then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.form.dbEnine=e.storage_db_engine,t.form.isDBSync=e.storage_db_sync,t.form.isOpenTransaction=e.storage_transHistory_switch,t.form.dbCustom=e.storage_db_custom||"",t.checkDBCustom=!!t.form.dbCustom}))},handleChangeCheckCustom:function(t){t&&setTimeout(this.$refs["db-custom"].clearValidate,0)},handleSubmit:function(){var t=this;this.$refs["database-config-form"].validate((function(e){e&&(t.loading=!0,t.$_api.configuration.dbConfig(r({},t.form,{dbCustom:t.checkDBCustom?t.form.dbCustom:""}),(function(e){t.loading=!1,e||(t.$notify({type:"success",title:t.$t("base.successful"),message:t.$t("configuration.databaseSaveSuccess")}),t.$emit("next-step"))})))}))},handleCancel:function(){this.$emit("prev-step")}}},l=c,u=(o("6c8f"),o("2877")),f=Object(u["a"])(l,n,i,!1,null,"cc85ed48",null);e["default"]=f.exports},"6c8f":function(t,e,o){"use strict";var n=o("b678"),i=o.n(n);i.a},"8a79":function(t,e,o){"use strict";var n=o("23e7"),i=o("06cf").f,s=o("50c4"),a=o("5a34"),r=o("1d80"),c=o("ab13"),l=o("c430"),u="".endsWith,f=Math.min,d=c("endsWith"),m=!l&&!d&&!!function(){var t=i(String.prototype,"endsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!m&&!d},{endsWith:function(t){var e=String(r(this));a(t);var o=arguments.length>1?arguments[1]:void 0,n=s(e.length),i=void 0===o?n:f(s(o),n),c=String(t);return u?u.call(e,c,i):e.slice(i-c.length,i)===c}})},b678:function(t,e,o){}}]);
//# sourceMappingURL=chunk-95af8b86.e08c961d.js.map