(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec7327b8"],{"34a8":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"block-chain-info"},[i("div",{staticClass:"info-header"},[i("div",{staticClass:"line-item"},[i("div",{staticClass:"info-item"}),i("div",{staticClass:"info-item"},[i("span",{staticClass:"label"},[t._v(t._s(t.$t("explorer.blockDuring"))+"：")]),i("span",{staticClass:"value"},[t._v(t._s("3s"))])])])]),i("div",{staticClass:"block-list"},[i("div",{staticClass:"block-list__header"},[t._v(" "+t._s(t.$t("explorer.lastBlock"))+" "),i("el-button",{staticClass:"refresh",attrs:{disabled:t.loading,type:"text"},on:{click:t.handleRefresh}},[i("i",{staticClass:"el-icon-refresh-right"}),t._v(" "+t._s(t.$t("explorer.refresh")))])],1),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[t.lastBlockList.length?t._l(t.lastBlockList,(function(e,s){return i("div",{key:e.high,staticClass:"block-box"},[i("div",{staticClass:"box-header"},[i("div",{staticClass:"block-high"},[t._v(t._s(e.high))]),i("div",{staticClass:"block-time"},[t._v(t._s(t.$_moment(e.timestamp).format("YYYY-MM-DD HH:mm:ss")))])]),i("div",{staticClass:"box-body"},[i("div",{staticClass:"line-item"},[i("span",{staticClass:"label"},[t._v(t._s(t.$t("explorer.hashValue"))+"：")]),i("span",{staticClass:"value"},[t._v(t._s(e.hash))])])])])})):i("div",{staticClass:"empty-data"},[t._v(t._s(t.$t("base.emptyData")))])],2)])])},a=[],l=(i("c740"),i("a434"),i("159b"),{name:"block-chain-info",props:{configForm:Object},data:function(){return{loading:!1,lastBlockList:[],lastProductBlockTime:0,timeID:null,httpTimeID:null,httpTimeIDs:[],stopHttp:!1}},watch:{"configForm.refresh":{handler:function(t){t&&this.getBlockChainInfo()}}},created:function(){this.getBlockChainInfo()},destroyed:function(){clearInterval(this.timeID),this.clearAllTimeout(),this.stopHttp=!0},methods:{getBlockChainInfo:function(){this.configForm.refresh=!1,this.handleRefresh()},handleRefresh:function(){clearInterval(this.timeID),this.clearAllTimeout(),this.lastProductBlockTime=0,this.lastBlockList.splice(0),this.stopHttp=!1,this.loading=!0,setTimeout(this.getNowBlockInfo,1e3)},getNowBlockInfo:function(){var t=this;this.$_api.explorer.getNowBlockInfo({type:this.configForm.nodeType,url:this.configForm.nodeURL},{timeout:1e4},(function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.loading=!1,e||t.stopHttp)return t.lastProductBlockTime=0,void clearInterval(t.timeID);var s=i.result||{};if(s.blockID&&!~t.lastBlockList.findIndex((function(t){return t.hash===s.blockID}))){var a=s.block_header.raw_data,l={high:"#"+a.number,timestamp:a.timestamp,hash:s.blockID,status:0};t.lastBlockList.unshift(l),t.lastBlockList.length>20&&t.lastBlockList.splice(20)}t.httpTimeID=setTimeout(t.getNowBlockInfo,1e3),t.httpTimeIDs.push(t.httpTimeID)}))},clearAllTimeout:function(){this.httpTimeIDs.forEach(clearTimeout),this.httpTimeIDs=[]}}}),o=l,n=(i("9b96"),i("2877")),c=Object(n["a"])(o,s,a,!1,null,"26a6f918",null);e["default"]=c.exports},"9b96":function(t,e,i){"use strict";var s=i("bf92"),a=i.n(s);a.a},a434:function(t,e,i){"use strict";var s=i("23e7"),a=i("23cb"),l=i("a691"),o=i("50c4"),n=i("7b0b"),c=i("65f0"),r=i("8418"),h=i("1dde"),d=Math.max,f=Math.min,u=9007199254740991,m="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!h("splice")},{splice:function(t,e){var i,s,h,p,v,g,b=n(this),k=o(b.length),I=a(t,k),_=arguments.length;if(0===_?i=s=0:1===_?(i=0,s=k-I):(i=_-2,s=f(d(l(e),0),k-I)),k+i-s>u)throw TypeError(m);for(h=c(b,s),p=0;p<s;p++)v=I+p,v in b&&r(h,p,b[v]);if(h.length=s,i<s){for(p=I;p<k-s;p++)v=p+s,g=p+i,v in b?b[g]=b[v]:delete b[g];for(p=k;p>k-s+i;p--)delete b[p-1]}else if(i>s)for(p=k-s;p>I;p--)v=p+s-1,g=p+i-1,v in b?b[g]=b[v]:delete b[g];for(p=0;p<i;p++)b[p+I]=arguments[p+2];return b.length=k-s+i,h}})},bf92:function(t,e,i){},c740:function(t,e,i){"use strict";var s=i("23e7"),a=i("b727").findIndex,l=i("44d2"),o="findIndex",n=!0;o in[]&&Array(1)[o]((function(){n=!1})),s({target:"Array",proto:!0,forced:n},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),l(o)}}]);
//# sourceMappingURL=chunk-ec7327b8.65e103a3.js.map