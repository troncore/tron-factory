(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["import-plugin"],{"0375":function(t,e,n){},"0cb2":function(t){t.exports=JSON.parse('[{"label":"AccountPermissionUpdate","value":"AccountPermissionUpdateActuator"},{"label":"AssetIssue","value":"AssetIssueActuator"},{"label":"ClearABIContract","value":"ClearABIContractActuator"},{"label":"CreateAccount","value":"CreateAccountActuator"},{"label":"ExchangeCreate","value":"ExchangeCreateActuator"},{"label":"ExchangeInject","value":"ExchangeInjectActuator"},{"label":"ExchangeTransaction","value":"ExchangeTransactionActuator"},{"label":"ExchangeWithdraw","value":"ExchangeWithdrawActuator"},{"label":"FreezeBalance","value":"FreezeBalanceActuator"},{"label":"ParticipateAssetIssue","value":"ParticipateAssetIssueActuator"},{"label":"ProposalApprove","value":"ProposalApproveActuator"},{"label":"ProposalCreate","value":"ProposalCreateActuator"},{"label":"ProposalDelete","value":"ProposalDeleteActuator"},{"label":"SetAccountId","value":"SetAccountIdActuator"},{"label":"ShieldedTransfer","value":"ShieldedTransferActuator"},{"label":"Transfer","value":"TransferActuator"},{"label":"TransferAsset","value":"TransferAssetActuator"},{"label":"UnfreezeAsset","value":"UnfreezeAssetActuator"},{"label":"UnfreezeBalance","value":"UnfreezeBalanceActuator"},{"label":"UpdateAccount","value":"UpdateAccountActuator"},{"label":"UpdateAsset","value":"UpdateAssetActuator"},{"label":"UpdateBrokerage","value":"UpdateBrokerageActuator"},{"label":"UpdateEnergyLimit","value":"UpdateEnergyLimitContractActuator"},{"label":"UpdateSettingContract","value":"UpdateSettingContractActuator"},{"label":"VoteWitness","value":"VoteWitnessActuator"},{"label":"WithdrawBalance","value":"WithdrawBalanceActuator"},{"label":"WitnessCreate","value":"WitnessCreateActuator"},{"label":"WitnessUpdate","value":"WitnessUpdateActuator"}]')},"0e89":function(t,e,n){},"28ce":function(t,e,n){"use strict";var a=n("94a6"),o=n.n(a);o.a},"2b71":function(t,e,n){"use strict";var a=n("48db"),o=n.n(a);o.a},"2f29":function(t,e,n){"use strict";var a=n("f1c5"),o=n.n(a);o.a},"48db":function(t,e,n){},"52d2":function(t,e,n){"use strict";var a=n("0e89"),o=n.n(a);o.a},"6a6a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-view import-plugin"},[n("div",{staticClass:"im-steps"},[n("div",{class:["im-step consensus",{active:1<=t.currentStep}],on:{click:function(e){return t.handleSkipStep(1)}}},[n("span",[t._v(t._s(t.$t("tronPluginConsensusModule")))])]),n("div",{class:["im-step transaction",{active:2<=t.currentStep}],on:{click:function(e){return t.handleSkipStep(2)}}},[n("span",[t._v(t._s(t.$t("tronPluginTransactionModule")))])]),n("div",{class:["im-step database",{active:3<=t.currentStep}],on:{click:function(e){return t.handleSkipStep(3)}}},[n("span",[t._v(t._s(t.$t("tronPluginDatabaseModule")))])])]),n(t.stepMapConfig[t.currentStep],{tag:"component",attrs:{"plugin-info":t.pluginInfo},on:{"prev-step":t.handlePrevStep,"next-step":t.handleNextStep}})],1)},o=[],r=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("159b"),n("ade3")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"consensus-module"},[n("el-card",[n("div",{staticClass:"box-header title"},[t._v(t._s(t.$t("tronPluginConsensusModule")))]),n("div",{staticClass:"box-body"},[n("el-form",{ref:"form-box",attrs:{model:t.form,rules:t.formRules,"label-position":"top"}},[n("el-form-item",{attrs:{prop:"consensus"}},[n("el-radio-group",{model:{value:t.form.consensus,callback:function(e){t.$set(t.form,"consensus",e)},expression:"form.consensus"}},[n("el-radio",{attrs:{label:"dpos"}},[t._v("DPOS")])],1)],1)],1)],1)]),n("div",{staticClass:"box-footer align-right"},[n("el-button",{staticClass:"im-button large",attrs:{size:"small",type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("base.nextStep")))])],1)],1)},i=[],l={name:"consensus-module",props:{pluginInfo:{type:Object,required:!0}},data:function(){return{form:{consensus:"dpos"},contentShow:!0,loading:!1,formRules:{consensus:[{required:!0,message:this.$t("tronSettingPlaceholder"),trigger:"blur"}]}}},watch:{pluginInfo:{handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form.consensus=t.consensus||"dpos"},immediate:!0}},methods:{handleSubmit:function(){var t=this;this.$refs["form-box"].validate((function(e){if(e){var n={consensus:t.form.consensus};t.loading=!0,t.$_api.importPlugin.consensusApi(n,(function(e,n){t.loading=!1,e||(t.$message.success(t.$t("tronPluginConsensusSaveSuccess")),t.$emit("next-step"))}))}}))}}},c=l,u=(n("2f29"),n("2877")),d=Object(u["a"])(c,s,i,!1,null,"7b9f426e",null),p=d.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box-view transaction-module"},[n("el-card",[n("div",{staticClass:"box-header title"},[t._v(t._s(t.$t("tronPluginTransactionModule")))]),n("div",{staticClass:"box-body"},[n("el-form",{ref:"form-box",attrs:{model:t.form,rules:t.formRules,"label-position":"top"}},[n("el-form-item",{staticClass:"transaction-list",attrs:{prop:"transaction"}},[n("el-checkbox-group",{model:{value:t.form.transaction,callback:function(e){t.$set(t.form,"transaction",e)},expression:"form.transaction"}},t._l(t.transactionList,(function(e,a){return n("el-checkbox",{key:a,attrs:{label:e.value}},[t._v(t._s(e.label))])})),1)],1),n("div",{staticClass:"more-form"},[n("el-button",{attrs:{type:"text"}},[t._v(t._s(t.$t("tronMoreSetting")))])],1),n("el-form-item",{staticClass:"custom-transaction",attrs:{props:"customTransaction"}},[n("el-checkbox",{model:{value:t.checkCustomTransaction,callback:function(e){t.checkCustomTransaction=e},expression:"checkCustomTransaction"}},[t._v(t._s(t.$t("tronPluginCustomTradingModule")))]),n("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},maxlength:300,placeholder:t.$t("tronPluginCustomTradingModulePlaceholder")},model:{value:t.form.customTransaction,callback:function(e){t.$set(t.form,"customTransaction","string"===typeof e?e.trim():e)},expression:"form.customTransaction"}})],1)],1)],1)]),n("div",{staticClass:"box-footer align-right"},[n("el-button",{staticClass:"im-button large",on:{click:t.handleCancel}},[t._v(t._s(t.$t("base.prevStep")))]),n("el-button",{staticClass:"im-button large",attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("base.nextStep")))])],1)],1)},f=[],b=(n("8a79"),{name:"transaction-module",props:{pluginInfo:{type:Object,required:!0}},data:function(){return{form:{transaction:[],customTransaction:""},checkCustomTransaction:!1,customTransactionIndex:-1,formRules:{transaction:[{required:!0,message:this.$t("tronSettingPlaceholder"),trigger:"blur"}]},contentShow:!0,transactionList:n("0cb2")||[],moreSetting:!1,loading:!1}},watch:{pluginInfo:{handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form.customTransaction=t.customTransaction||"",this.form.transaction=t.transaction,this.form.customTransaction&&(this.checkCustomTransaction=!0)},immediate:!0}},methods:{handleCancel:function(){this.$emit("prev-step")},handleSubmit:function(){var t=this;this.$refs["form-box"].validate((function(e){if(e){if(t.checkCustomTransaction){if(!t.form.customTransaction.length)return void t.$message.warning(t.$t("tronPluginCustomTradingModulePlaceholder"));if(!t.form.customTransaction.endsWith(".jar"))return void t.$message.warning(t.$t("tronPluginDeploymentCorrectPathPlaceholder"))}else if(t.form.customTransaction)return void t.$message.warning(t.$t("tronPluginDeploymentCheckPathPlaceholder"));var n={transaction:t.form.transaction,customTransaction:t.form.customTransaction};t.loading=!0,t.$_api.importPlugin.transactionApi(n,(function(e,n){t.loading=!1,e||(t.$message.success(t.$t("tronPluginInputSaveSuccess")),t.$emit("next-step"))}))}}))}}}),g=b,v=(n("efc1"),Object(u["a"])(g,m,f,!1,null,"72a94bd6",null)),h=v.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"database-module"},[n("el-card",[n("div",{staticClass:"box-header title"},[t._v(t._s(t.$t("tronPluginDatabaseModule")))]),n("div",{staticClass:"box-body"},[n("el-form",{ref:"form-box",attrs:{model:t.form,rules:t.formRules,"label-position":"top"}},[n("el-form-item",{attrs:{prop:"dbEngine"}},[n("el-radio-group",{model:{value:t.form.dbEngine,callback:function(e){t.$set(t.form,"dbEngine",e)},expression:"form.dbEngine"}},[n("el-radio",{attrs:{disabled:"",label:"leveldb"}},[t._v("leveldb")]),n("el-radio",{attrs:{disabled:"",label:"rocksdb"}},[t._v("rocksdb")])],1)],1)],1)],1)]),n("div",{staticClass:"box-footer align-right"},[n("el-button",{staticClass:"im-button large",on:{click:t.handleCancel}},[t._v(t._s(t.$t("base.prevStep")))]),n("el-button",{staticClass:"im-button large",attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("base.nextStep")))])],1)],1)},S=[],x={name:"database-module",props:{pluginInfo:{type:Object,required:!0}},data:function(){return{form:{dbEngine:"leveldb"},contentShow:!0,loading:!1,formRules:{dbEngine:[{required:!0,message:this.$t("tronSettingPlaceholder"),trigger:"blur"}]}}},watch:{pluginInfo:{handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form.dbEngine=t.dbEngine||"leveldb"},immediate:!0}},methods:{handleCancel:function(){this.$emit("prev-step")},handleSubmit:function(){var t=this;this.$refs["form-box"].validate((function(e){if(e){var n={dbEngine:t.form.dbEngine};t.loading=!0,t.$_api.importPlugin.dbEngineApi(n,(function(e,n){t.loading=!1,e||(t.$message.success(t.$t("tronPluginDatabaseSaveSuccess")),t.$emit("next-step"))}))}}))}}},$=x,y=(n("2b71"),Object(u["a"])($,C,S,!1,null,"67c302a6",null)),A=y.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"crypto-module"},[n("el-card",[n("div",{staticClass:"box-header title"},[t._v(t._s(t.$t("tronPluginCryptoModule")))]),n("div",{staticClass:"box-body"},[n("el-form",{ref:"form-box",attrs:{model:t.form,rules:t.formRules,"label-position":"top"}},[n("el-form-item",{attrs:{prop:"crypto"}},[n("el-radio-group",{model:{value:t.form.crypto,callback:function(e){t.$set(t.form,"crypto",e)},expression:"form.crypto"}},[n("el-radio",{attrs:{label:"eckey"}},[t._v("eckey")]),n("el-radio",{attrs:{label:"sm2"}},[t._v("sm2")])],1)],1)],1)],1)]),n("div",{staticClass:"box-footer align-right"},[n("el-button",{staticClass:"im-button large",on:{click:t.handleCancel}},[t._v(t._s(t.$t("base.prevStep")))]),n("el-button",{staticClass:"im-button large",attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("base.nextStep")))])],1)],1)},P=[],k={name:"crypto-module",props:{pluginInfo:{type:Object,required:!0}},data:function(){return{form:{crypto:"eckey"},contentShow:!0,loading:!1,formRules:{crypto:[{required:!0,message:this.$t("tronSettingPlaceholder"),trigger:"blur"}]}}},watch:{pluginInfo:{handler:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form.crypto=t.crypto||"eckey"},immediate:!0}},methods:{handleCancel:function(){this.$emit("prev-step")},handleSubmit:function(){var t=this;this.$refs["form-box"].validate((function(e){if(e){var n={crypto:t.form.crypto};t.loading=!0,t.$_api.importPlugin.cryptoApi(n,(function(e,n){t.loading=!1,e||(t.$message.success(t.$t("tronPluginInputSaveSuccess")),t.$emit("next-step"))}))}}))}}},T=k,w=(n("52d2"),Object(u["a"])(T,_,P,!1,null,"5d72f296",null)),E=w.exports,O=n("2f62");function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var M={name:"import-plugin",components:{ConsensusModule:p,TransactionModule:h,DatabaseModule:A,CryptoModule:E},data:function(){return{pluginInfo:{},currentStep:1,stepMapConfig:{1:"ConsensusModule",2:"TransactionModule",3:"DatabaseModule",4:"CryptoModule"},stepRange:{min:1,max:3}}},created:function(){this.initPluginInfo()},methods:j({},Object(O["c"])("app",{updateAuthMenu:"SET_AUTH_MENU"}),{initPluginInfo:function(){var t=this;return new Promise((function(e){t.$_api.importPlugin.pluginConfigApi({},(function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n||(t.pluginInfo=a,e(t.pluginInfo))}))}))},handleSkipStep:function(t){this.currentStep=t},handlePrevStep:function(){var t=this.currentStep-1;this.currentStep=t>=this.stepRange.min?t:this.stepRange.min},handleNextStep:function(){var t=this.currentStep+1;t<=this.stepRange.max?(this.currentStep=t,this.initPluginInfo()):(this.updateAuthMenu({name:"deploy-nodes"}),this.$router.push({path:"/deploy-nodes"}))}})},U=M,W=(n("28ce"),Object(u["a"])(U,a,o,!1,null,"82cbdcd6",null));e["default"]=W.exports},"8a79":function(t,e,n){"use strict";var a=n("23e7"),o=n("06cf").f,r=n("50c4"),s=n("5a34"),i=n("1d80"),l=n("ab13"),c=n("c430"),u="".endsWith,d=Math.min,p=l("endsWith"),m=!c&&!p&&!!function(){var t=o(String.prototype,"endsWith");return t&&!t.writable}();a({target:"String",proto:!0,forced:!m&&!p},{endsWith:function(t){var e=String(i(this));s(t);var n=arguments.length>1?arguments[1]:void 0,a=r(e.length),o=void 0===n?a:d(r(n),a),l=String(t);return u?u.call(e,l,o):e.slice(o-l.length,o)===l}})},"94a6":function(t,e,n){},efc1:function(t,e,n){"use strict";var a=n("0375"),o=n.n(a);o.a},f1c5:function(t,e,n){}}]);
//# sourceMappingURL=import-plugin.d983e534.js.map