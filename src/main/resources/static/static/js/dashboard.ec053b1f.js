(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"12c8":function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"dashboard"},[i("div",{staticClass:"page-title"},[t._v(t._s(t.$t("getStarted.dashboard.dashboard")))]),i("div",{staticClass:"chain-info im-card"},[i("div",{staticClass:"card-header"},[i("div",{staticClass:"card-title"},[t._v(t._s(t.$t("getStarted.dashboard.chainInfo")))]),i("div",{staticClass:"op-list"},[i("el-button",{staticClass:"im-button mini",attrs:{disabled:!t.canOPChain||t.deleteLoading},on:{click:t.handleDelete}},[i("i",{staticClass:"el-icon-delete"}),t._v(" "+t._s(t.$t("base.delete")))]),i("el-button",{staticClass:"im-button mini",attrs:{type:"primary",disabled:!t.canOPChain||t.deleteLoading},on:{click:t.handleUpdate}},[i("i",{staticClass:"el-icon-edit"}),t._v(" "+t._s(t.$t("base.edit")))])],1)]),i("div",{staticClass:"card-body"},[i("div",{staticClass:"chain-item"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("getStarted.dashboard.chainName")))]),i("div",{staticClass:"value"},[t._v(t._s(t.chainInfo.chainName||"-"))])]),i("div",{staticClass:"chain-item"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("getStarted.dashboard.encryption")))]),i("div",{staticClass:"value"},[t._v(t._s(t.chainInfo.crypto||"-"))])]),i("div",{staticClass:"chain-item"},[i("div",{staticClass:"label"},[t._v(t._s(t.$t("getStarted.dashboard.p2pVersion")))]),i("div",{staticClass:"value"},[t._v(t._s(t.chainInfo.p2pVersion||"-"))])]),i("div",{staticClass:"chain-item"},[i("div",{staticClass:"label"},[i("span",{staticClass:"label-inner"},[t._v(" "+t._s(t.$t("getStarted.dashboard.status"))+" "),i("im-tooltip",{staticClass:"im-tooltip",attrs:{content:t.$t("getStarted.dashboard.statusTips")}})],1)]),i("div",{staticClass:"value"},[t._v(" "+t._s(t.$t(["getStarted.dashboard.unPublish","getStarted.dashboard.publishing","getStarted.dashboard.published"][t.chainStatus]||"-"))+" ")])])])]),i("node-list",{attrs:{"chain-status":t.chainStatus},on:{nodeList:t.getNodeList,checkChainPublish:function(a){return t.checkChainPublish()}}})],1)},s=[],n=(i("a623"),i("caad"),i("3e60")),c=i("8e6c"),o={name:"dashboard",components:{ImTooltip:c["a"],NodeList:n["default"]},data:function(){return{chainInfo:{chainName:"",crypto:"",p2pVersion:""},chainStatus:-1,nodeList:[],deleteLoading:!1,timeoutID:null}},computed:{canOPChain:function(){return!this.nodeList.length||this.nodeList.every((function(t){return 1!==t.deployStatus&&t.showStop}))}},created:function(){this.getChainInfo(),this.pollChainStatus()},destroyed:function(){clearTimeout(this.timeoutID)},methods:{getChainInfo:function(){var t=this;this.$_api.getStarted.getChainInfo({},(function(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a||(t.chainInfo={chainName:i.chainName,crypto:i.crypto,p2pVersion:i.p2pVersion})}))},pollChainStatus:function(){clearTimeout(this.timeoutID),this.timeoutID=setTimeout(this.checkChainPublish,600)},checkChainPublish:function(){var t=this;this.$_api.getStarted.checkChainPublish({},(function(a,i){if(a)return t.chainStatus=-1,void clearTimeout(t.timeoutID);t.chainStatus=i,[0,2].includes(t.chainStatus)?clearTimeout(t.timeoutID):t.pollChainStatus()}))},handleUpdate:function(){this.$router.push("/get-started/chain-edit")},handleDelete:function(){this.$confirm(this.$t("getStarted.dashboard.deleteChainWarningTips"),this.$t("base.tips"),{cancelButtonText:this.$t("base.cancel"),confirmButtonText:this.$t("base.delete"),center:!0,customClass:"im-message-box",cancelButtonClass:"im-message-cancel-button",confirmButtonClass:"im-message-confirm-button warning"}).then(this.deleteChain).catch((function(t){return console.log("err: ",t)}))},deleteChain:function(){var t=this;this.deleteLoading=!0,this.$_api.getStarted.deleteChain({},(function(a,i){t.deleteLoading=!1,a||(t.$notify.success({title:t.$t("base.successful"),message:t.$t("base.success.delete")}),t.$router.push("/get-started"))}))},getNodeList:function(t){this.nodeList=t}}},d=o,l=(i("56fc"),i("2877")),h=Object(l["a"])(d,e,s,!1,null,"221a4616",null);a["default"]=h.exports},"56fc":function(t,a,i){"use strict";var e=i("8865"),s=i.n(e);s.a},8865:function(t,a,i){}}]);
//# sourceMappingURL=dashboard.ec053b1f.js.map