(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20dcf02e","chunk-2b8f63a8","chunk-2d213a3d"],{"3e60":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"node-list im-card"},[a("div",{staticClass:"card-header"},[t._v(t._s(t.$t("getStarted.dashboard.nodeInfo")))]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"table-header"},[a("el-button",{staticClass:"im-button mini",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handleAddNode()}}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "+t._s(t.$t("getStarted.dashboard.addNode")))]),a("el-button",{staticClass:"im-button mini el-icon-caret-right",attrs:{size:"mini",type:"success",loading:t.deployLoading},on:{click:function(e){return t.handleDeploy()}}},[t._v(" "+t._s(t.$t(t.deployLoading?"getStarted.dashboard.runningNode":"getStarted.dashboard.runNode")))])],1),a("div",{staticClass:"table-box"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticClass:"custom-table",attrs:{data:t.tableData,"empty-text":t.$t("base.emptyData"),border:"","header-align":"center"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"60",selectable:t.handleSelectable}}),a("el-table-column",{attrs:{prop:"ip",label:t.$t("getStarted.dashboard.ip"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-link",{attrs:{type:"primary"},on:{click:function(a){return t.handleDetail(e.row)}}},[t._v(t._s(e.row.ip))])]}}])}),a("el-table-column",{attrs:{prop:"listenPort",label:t.$t("getStarted.dashboard.listenPort"),align:"center"}}),a("el-table-column",{attrs:{prop:"isSR",label:t.$t("getStarted.dashboard.nodeType"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isSR?a("span",{staticClass:"color-success"},[t._v(t._s(t.$t("getStarted.dashboard.superNode")))]):a("span",{staticClass:"color-info"},[t._v(t._s(t.$t("getStarted.dashboard.fullNode")))])]}}])}),a("el-table-column",{attrs:{prop:"configStatus",label:t.$t("getStarted.dashboard.configStatus"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.configStatus?a("el-tag",{attrs:{size:"mini",type:"primary"}},[t._v(t._s(t.$t("getStarted.dashboard.statusOK")))]):a("el-tag",{attrs:{size:"mini",type:"info"}},[t._v(t._s(t.$t("getStarted.dashboard.statusNO")))])]}}])}),a("el-table-column",{attrs:{prop:"deployStatus",label:t.$t("getStarted.dashboard.deployStatus"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.deployStatus?a("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(t._s(t.$t("getStarted.dashboard.deploySuccess")))]):a("el-tag",{attrs:{size:"mini",type:"info"}},[t._v(t._s(t.$t("getStarted.dashboard.deployStop")))])]}}])}),a("el-table-column",{attrs:{prop:"createTime",width:"180",label:t.$t("getStarted.dashboard.createNodeTime"),align:"center"}}),a("el-table-column",{attrs:{prop:"operate",width:"180",label:t.$t("base.operate")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleDetail(e.row)}}},[t._v(t._s(t.$t("base.view")))]),1!==e.row.deployStatus?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleConfig(e.row)}}},[t._v(t._s(t.$t("getStarted.dashboard.nodeConfig")))]):a("el-button",{attrs:{type:"text",loading:t.stopIndexs.includes(e.$index)},on:{click:function(a){return t.handleStop(e.row,e.$index)}}},[t._v(" "+t._s(t.$t(t.stopIndexs.includes(e.$index)?"":"getStarted.dashboard.stopRunNode"))+" ")]),e.row.ifShowLog?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.handleLog(e.row)}}},[a("span",{class:{"color-danger":e.row.isError}},[t._v(t._s(t.$t("base.logs")))])]):t._e()]}}])})],1)],1)]),a("node-deploy",{attrs:{visible:t.deployDialogVisible,ids:t.deployNodesIds,"deploy-loading":t.deployLoading},on:{"update:visible":function(e){t.deployDialogVisible=e},"update:deployLoading":function(e){t.deployLoading=e},"update:deploy-loading":function(e){t.deployLoading=e},getNodeList:function(){return t.getNodeList(!0)}}}),t.logDialogVisible?a("node-log",{attrs:{visible:t.logDialogVisible,"current-row":t.currentRow},on:{"update:visible":function(e){t.logDialogVisible=e}}}):t._e()],1)},o=[],s=(a("4de4"),a("c975"),a("a15b"),a("d81d"),a("45fc"),a("a434"),a("a9e3"),a("bad6")),n=a("ae14"),r={name:"node-list",components:{NodeDeploy:n["default"],NodeLog:s["default"]},props:{nodeList:Function,chainStatus:Number},data:function(){return{tableData:[],tableLoading:!1,currentRow:{},deployNodes:[],deployNodesIds:"",stopIndexs:[],logDialogVisible:!1,deployDialogVisible:!1,deployLoading:!1,timeID:null}},created:function(){this.getNodeList()},destroyed:function(){clearInterval(this.timeID)},methods:{getNodeList:function(t){var e=this;this.tableLoading=!0,this.$_api.getStarted.getNodeList({},(function(a,i){e.tableLoading=!1,a||(e.tableData=Array.isArray(i)?i:[],e.tableData.sort((function(t,e){return new Date(e.createTime).getTime()-new Date(t.createTime).getTime()})),t&&e.$emit("checkChainPublish"),e.$emit("nodeList",e.tableData))}))},handleAddNode:function(){this.$router.push("/get-started/node-add")},handleSelectable:function(t,e){return 1!==t.deployStatus},handleSelectionChange:function(t){this.deployNodes=t,this.deployNodesIds=t.map((function(t){return t.id})).join(",")},handleDeploy:function(){var t="";this.tableData.length?this.deployNodesIds.length?this.deployNodes.some((function(t){return 0===t.configStatus}))?t=this.$t("getStarted.dashboard.pleaseConfigNodes"):0===this.chainStatus&&this.deployNodes.filter((function(t){return t.isSR})).length%2!==1&&(t=this.$t("getStarted.dashboard.initRunSRCheck")):t=this.$t("getStarted.dashboard.pleaseSelectNodes"):t=this.$t("getStarted.dashboard.pleaseAddNode"),t?this.$notify.warning({title:this.$t("base.warning"),message:t}):this.deployDialogVisible=!0},handleConfig:function(t){this.$router.push("/node-config/quick?id="+t.id)},handleDetail:function(t){this.$router.push("/get-started/node-view?id="+t.id)},handleStop:function(t,e){var a=this;this.$confirm(this.$t("getStarted.dashboard.stopRunNodeTips"),this.$t("base.tips"),{confirmButtonText:this.$t("base.confirm"),cancelButtonText:this.$t("base.cancel"),center:!0,customClass:"im-message-box",cancelButtonClass:"im-message-cancel-button",confirmButtonClass:"im-message-confirm-button"}).then((function(){return a.stopNode(t,e)})).catch((function(){a.$notify.info({title:a.$t("base.cancel"),message:a.$t("base.cancelDelete")})}))},stopNode:function(t,e){var a=this;this.stopIndexs.push(e),this.$_api.getStarted.stopNode({id:t.id},(function(t){var i=a.stopIndexs.indexOf(e);a.stopIndexs.splice(i,1),t||a.getNodeList(!0)}))},handleLog:function(t){this.logDialogVisible=!0,this.currentRow=t}}},l=r,d=(a("f180"),a("2877")),c=Object(d["a"])(l,i,o,!1,null,"2f1a7754",null);e["default"]=c.exports},"4ac3":function(t,e,a){},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var i=a("1d80"),o=a("5899"),s="["+o+"]",n=RegExp("^"+s+s+"*"),r=RegExp(s+s+"*$"),l=function(t){return function(e){var a=String(i(e));return 1&t&&(a=a.replace(n,"")),2&t&&(a=a.replace(r,"")),a}};t.exports={start:l(1),end:l(2),trim:l(3)}},6350:function(t,e,a){},7156:function(t,e,a){var i=a("861d"),o=a("d2bb");t.exports=function(t,e,a){var s,n;return o&&"function"==typeof(s=e.constructor)&&s!==a&&i(n=s.prototype)&&n!==a.prototype&&o(t,n),t}},a15b:function(t,e,a){"use strict";var i=a("23e7"),o=a("44ad"),s=a("fc6a"),n=a("a640"),r=[].join,l=o!=Object,d=n("join",",");i({target:"Array",proto:!0,forced:l||!d},{join:function(t){return r.call(s(this),void 0===t?",":t)}})},a434:function(t,e,a){"use strict";var i=a("23e7"),o=a("23cb"),s=a("a691"),n=a("50c4"),r=a("7b0b"),l=a("65f0"),d=a("8418"),c=a("1dde"),u=a("ae40"),g=c("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,b=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!g||!p},{splice:function(t,e){var a,i,c,u,g,p,v=r(this),y=n(v.length),S=o(t,y),$=arguments.length;if(0===$?a=i=0:1===$?(a=0,i=y-S):(a=$-2,i=h(f(s(e),0),y-S)),y+a-i>b)throw TypeError(m);for(c=l(v,i),u=0;u<i;u++)g=S+u,g in v&&d(c,u,v[g]);if(c.length=i,a<i){for(u=S;u<y-i;u++)g=u+i,p=u+a,g in v?v[p]=v[g]:delete v[p];for(u=y;u>y-i+a;u--)delete v[u-1]}else if(a>i)for(u=y-i;u>S;u--)g=u+i-1,p=u+a-1,g in v?v[p]=v[g]:delete v[p];for(u=0;u<a;u++)v[u+S]=arguments[u+2];return v.length=y-i+a,c}})},a9e3:function(t,e,a){"use strict";var i=a("83ab"),o=a("da84"),s=a("94ca"),n=a("6eeb"),r=a("5135"),l=a("c6b6"),d=a("7156"),c=a("c04e"),u=a("d039"),g=a("7c73"),p=a("241c").f,f=a("06cf").f,h=a("9bf2").f,b=a("58a8").trim,m="Number",v=o[m],y=v.prototype,S=l(g(y))==m,$=function(t){var e,a,i,o,s,n,r,l,d=c(t,!1);if("string"==typeof d&&d.length>2)if(d=b(d),e=d.charCodeAt(0),43===e||45===e){if(a=d.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+d}for(s=d.slice(2),n=s.length,r=0;r<n;r++)if(l=s.charCodeAt(r),l<48||l>o)return NaN;return parseInt(s,i)}return+d};if(s(m,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var _,N=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof N&&(S?u((function(){y.valueOf.call(a)})):l(a)!=m)?d(new v($(e)),a,N):$(e)},w=i?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;w.length>I;I++)r(v,_=w[I])&&!r(N,_)&&h(N,_,f(v,_));N.prototype=y,y.constructor=N,n(o,m,N)}},ae14:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.dialogVisible,"custom-class":"im-dialog","close-on-click-modal":!1,"close-on-press-escape":!1,width:"680px",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("getStarted.dashboard.runNodeDialogTitle")))])]),a("div",{staticClass:"dialog-content"},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:8}},model:{value:t.form.filePath,callback:function(e){t.$set(t.form,"filePath","string"===typeof e?e.trim():e)},expression:"form.filePath"}}),a("div",{staticClass:"el-upload__tip"},[t._v(t._s(t.$t("getStarted.dashboard.checkFilePath")))])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"im-button",on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("base.cancel")))]),a("el-button",{staticClass:"im-button",attrs:{type:"primary",loading:t.loading},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("base.save")))])],1)])},o=[],s=(a("c975"),{name:"node-deploy",props:{deployLoading:{type:Boolean,required:!0},visible:{type:Boolean,required:!0},ids:{type:String,required:!0}},data:function(){return{form:{filePath:""},loading:!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},methods:{handleSubmit:function(){this.form.filePath?~this.form.filePath.indexOf("java-tron-1.0.0.zip")?(this.startDeploy(),this.$emit("update:visible",!1),this.$emit("update:deployLoading",!0)):this.$notify({title:this.$t("base.warning"),message:this.$t("getStarted.dashboard.endRightPath"),type:"warning"}):this.$notify({title:this.$t("base.warning"),message:this.$t("getStarted.dashboard.inputFilePath"),type:"warning"})},startDeploy:function(){var t=this;this.loading=!0,this.$_api.getStarted.deployNode({ids:this.ids,filePath:this.form.filePath},(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.$emit("update:deployLoading",!1),t.loading=!1,!e){if(a.hasOwnProperty("status")){var i="";switch(a.status){case 0:i="getStarted.dashboard.runSuccessTips";break;case 1:i="getStarted.dashboard.runFailTips";break;case 2:i="getStarted.dashboard.runFailSomeTips";break;case 3:i="getStarted.dashboard.runExistTips";break}0===a.status?t.$notify.success({title:t.$t("base.successful"),message:t.$t(i)}):t.$notify.error({title:t.$t("base.warning"),message:t.$t(i)})}t.$emit("getNodeList")}}))}}}),n=s,r=a("2877"),l=Object(r["a"])(n,i,o,!1,null,"7f09ca4e",null);e["default"]=l.exports},ae49:function(t,e,a){"use strict";var i=a("4ac3"),o=a.n(i);o.a},bad6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.dialogVisible,"custom-class":"im-dialog","close-on-click-modal":!1,"close-on-press-escape":!1,width:"680px",top:"200px",center:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("getStarted.dashboard.logDialogTitle")))])]),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.initLoading,expression:"initLoading"}],staticClass:"dialog-content",staticStyle:{"min-height":"200px"}},[a("el-timeline",t._l(t.logInfo,(function(e,i){return a("el-timeline-item",{key:i,attrs:{type:"primary"}},[a("div",{staticClass:"log-content",domProps:{innerHTML:t._s(e)}})])})),1),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.processingShow,expression:"processingShow"}],staticStyle:{"margin-left":"30px"},attrs:{type:"text",loading:t.processingLoading}},[t._v(t._s(t.processingText))])],1)])},o=[],s=(a("d81d"),a("ac1f"),a("5319"),{name:"node-log",props:{visible:{},currentRow:{}},data:function(){return{logInfo:[],initLoading:!0,processingShow:!1,processingLoading:!1,processingText:this.$t("getStarted.dashboard.emptyLog"),timeID:null}},computed:{dialogVisible:{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)}}},created:function(){this.init()},destroyed:function(){clearInterval(this.timeID)},methods:{init:function(){this.getLogInfo(),this.timeID=setInterval(this.getLogInfo,5e3)},getLogInfo:function(){var t=this;this.$_api.getStarted.getNodeLog({id:this.currentRow.id},(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.initLoading=!1,t.processingShow=!0,t.processingLoading=!0,t.processingText=t.$t("getStarted.dashboard.loadingLog"),e)return t.processingLoading=!1,t.processingText=t.$t("getStarted.dashboard.emptyLog"),void clearInterval(t.timeID);-1!==a.status&&1!==a.status||(t.processingShow=!1,t.processingLoading=!1,clearInterval(t.timeID)),Array.isArray(a.logInfo)?t.logInfo=a.logInfo.map((function(t){return t.replace(/^(\[.*\])(.*)/,'<i class="remark-time">$1</i>$2')})):(t.processingLoading=!1,t.processingText=t.$t("getStarted.dashboard.emptyLog"),clearInterval(t.timeID))}))}}}),n=s,r=(a("ae49"),a("2877")),l=Object(r["a"])(n,i,o,!1,null,"5bd0db4e",null);e["default"]=l.exports},f180:function(t,e,a){"use strict";var i=a("6350"),o=a.n(i);o.a}}]);
//# sourceMappingURL=chunk-20dcf02e.5dbfbf75.js.map