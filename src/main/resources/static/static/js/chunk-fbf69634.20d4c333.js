(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fbf69634"],{"8a79":function(t,n,i){"use strict";var o=i("23e7"),a=i("06cf").f,s=i("50c4"),e=i("5a34"),c=i("1d80"),r=i("ab13"),u=i("c430"),l="".endsWith,d=Math.min,m=r("endsWith"),h=!u&&!m&&!!function(){var t=a(String.prototype,"endsWith");return t&&!t.writable}();o({target:"String",proto:!0,forced:!h&&!m},{endsWith:function(t){var n=String(c(this));e(t);var i=arguments.length>1?arguments[1]:void 0,o=s(n.length),a=void 0===i?o:d(s(i),o),r=String(t);return l?l.call(n,r,a):n.slice(a-r.length,a)===r}})},b5ed:function(t,n,i){"use strict";i.r(n);var o=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"box-view import-plugin"},[i("div",{staticClass:"box-card"},[i("el-form",{ref:"form-box",attrs:{rules:t.formRules,model:t.form,"label-position":"top"}},[i("div",{staticClass:"more-setting"},[i("el-checkbox",{on:{change:t.handleChangeCheckCustom},model:{value:t.checkCustomTransaction,callback:function(n){t.checkCustomTransaction=n},expression:"checkCustomTransaction"}},[t._v(t._s(t.$t("configuration.customTransactionModule")))])],1),i("el-form-item",{ref:"custom-transaction",staticClass:"custom-transaction margin-bottom-0",attrs:{prop:"customTransaction"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},maxlength:300,disabled:!t.checkCustomTransaction,placeholder:t.$t(t.checkCustomTransaction?"configuration.valid.inputCustomTransaction":"configuration.valid.checkCustomTransaction")},model:{value:t.form.customTransaction,callback:function(n){t.$set(t.form,"customTransaction","string"===typeof n?n.trim():n)},expression:"form.customTransaction"}})],1)],1)],1),i("div",{staticClass:"box-footer"},[i("el-button",{staticClass:"im-button large",attrs:{loading:t.loading,disabled:t.disabled,type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("base.complete")))]),i("el-button",{staticClass:"im-button large",on:{click:t.handleCancel}},[t._v(t._s(t.$t("base.prevStep")))])],1)])},a=[],s=(i("a9e3"),i("8a79"),{name:"import-plugin",data:function(){return{form:{id:"",customTransaction:""},checkCustomTransaction:!1,loading:!1,disabled:!0}},computed:{opNodeId:function(){var t=this.$route.query.id;return/\d+/.test(t)?Number(t):void 0},formRules:function(){var t=this,n=function(n,i,o){t.checkCustomTransaction&&!t.form.customTransaction.endsWith(".jar")?o(new Error(t.$t("configuration.valid.pathEndJAR"))):o()};return{customTransaction:[{required:this.checkCustomTransaction,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:n,trigger:"blur"}]}}},created:function(){this.getConfig()},methods:{getConfig:function(){var t=this;this.validNode()&&(this.disabled=!0,this.$_api.getStarted.getPluginConfig({id:this.opNodeId},(function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n||(t.disabled=!1,t.initForm(i))})))},initForm:function(t){this.form={id:this.opNodeId,customTransaction:t.customTransaction},this.checkCustomTransaction=!!this.form.customTransaction},handleChangeCheckCustom:function(t){t&&setTimeout(this.$refs["custom-transaction"].clearValidate,0)},handleSubmit:function(){var t=this;this.$refs["form-box"].validate((function(n){if(n){var i={id:t.opNodeId,customTransaction:t.checkCustomTransaction?t.form.customTransaction:"",configStatus:1};t.loading=!0,t.$_api.getStarted.setPluginConfig(i,(function(n,i){t.loading=!1,n||(t.$notify.success({title:t.$t("base.successful"),message:t.$t("base.success.operate")}),t.$router.push("/get-started/dashboard"))}))}}))},validNode:function(){return!!/\d+/.test(this.opNodeId)||(this.$notify.warning({title:this.$t("base.warning"),message:this.$t("当前所编辑的节点为无效节点!")}),!1)},handleCancel:function(){this.$emit("prev-step")}}}),e=s,c=(i("c9a2"),i("2877")),r=Object(c["a"])(e,o,a,!1,null,"531a767c",null);n["default"]=r.exports},c9a2:function(t,n,i){"use strict";var o=i("e247"),a=i.n(o);a.a},e247:function(t,n,i){}}]);
//# sourceMappingURL=chunk-fbf69634.20d4c333.js.map