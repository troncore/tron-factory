(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-99de6740"],{1737:function(t,e,o){},"18b3":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"box-view database-config"},[o("div",{staticClass:"box-body"},[o("el-form",{ref:"database-config-form",attrs:{model:t.form,rules:t.formRules,"label-position":"left","label-width":"200px"}},[o("el-form-item",{attrs:{label:t.$t("configuration.selectDatabaseConfig"),prop:"storage_db_engine"}},[o("el-radio-group",{model:{value:t.form.dbEnine,callback:function(e){t.$set(t.form,"dbEnine",e)},expression:"form.dbEnine"}},[o("el-radio",{attrs:{label:"LEVELDB"}},[t._v("LevelDB")]),o("el-radio",{attrs:{label:"ROCKSDB"}},[t._v("RocksDB")])],1)],1),o("el-form-item",{attrs:{label:t.$t("configuration.isWriteSync"),prop:"storage_db_sync"}},[o("el-switch",{model:{value:t.form.isDBSync,callback:function(e){t.$set(t.form,"isDBSync",e)},expression:"form.isDBSync"}})],1),o("el-form-item",{attrs:{label:t.$t("configuration.isOpenTransaction"),prop:"storage_transHistory_switch"}},[o("el-switch",{attrs:{"active-value":"on","inactive-value":"off"},model:{value:t.form.isOpenTransaction,callback:function(e){t.$set(t.form,"isOpenTransaction",e)},expression:"form.isOpenTransaction"}})],1),o("el-form-item",{attrs:{label:t.$t("configuration.isNeedToUpdateAsset"),prop:"storage_needToUpdateAsset"}},[o("el-switch",{model:{value:t.form.needToUpdateAsset,callback:function(e){t.$set(t.form,"needToUpdateAsset",e)},expression:"form.needToUpdateAsset"}})],1),o("div",{staticClass:"more-setting"},[o("el-checkbox",{on:{change:t.handleChangeCheckCustom},model:{value:t.checkDBCustom,callback:function(e){t.checkDBCustom=e},expression:"checkDBCustom"}},[o("span",{staticClass:"check-label"},[t._v(t._s(t.$t("configuration.dbCustomModule")))])])],1),o("el-form-item",{ref:"db-custom",staticClass:"db-custom",attrs:{prop:"dbCustom"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},maxlength:300,disabled:!t.checkDBCustom,placeholder:t.$t(t.checkDBCustom?"configuration.valid.inputDBCustom":"configuration.valid.checkDBCustom")},model:{value:t.form.dbCustom,callback:function(e){t.$set(t.form,"dbCustom","string"===typeof e?e.trim():e)},expression:"form.dbCustom"}})],1)],1)],1),o("div",{staticClass:"box-footer align-right"},[o("el-button",{staticClass:"im-button large",on:{click:t.handleCancel}},[t._v(t._s(t.$t("base.prevStep")))]),o("el-button",{staticClass:"im-button large",attrs:{loading:t.loading,disabled:t.configLoading,type:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("base.nextStep")))])],1)])},s=[],a=(o("8a79"),{name:"database-config",props:{initConfigInfo:{type:Function,required:!0},configLoading:Boolean},data:function(){return{form:{dbEnine:"",isDBSync:!1,isOpenTransaction:"",needToUpdateAsset:!1,dbCustom:""},checkDBCustom:!1,showContent:!0,loading:!1}},computed:{formRules:function(){var t=this,e=function(e,o,n){t.checkDBCustom&&!t.form.dbCustom.endsWith(".jar")?n(new Error(t.$t("configuration.valid.pathEndJAR"))):n()};return{dbCustom:[{required:this.checkDBCustom,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:e,trigger:"blur"}]}}},created:function(){this.getConfigInfo()},methods:{getConfigInfo:function(){var t=this;this.initConfigInfo().then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.form.dbEnine=e.storage_db_engine,t.form.isDBSync=e.storage_db_sync,t.form.isOpenTransaction=e.storage_transHistory_switch,t.form.needToUpdateAsset=e.storage_needToUpdateAsset,t.form.dbCustom=e.storage_db_custom||"",t.checkDBCustom=!!t.form.dbCustom}))},handleChangeCheckCustom:function(t){t&&setTimeout(this.$refs["db-custom"].clearValidate,0)},handleSubmit:function(){var t=this;this.$refs["database-config-form"].validate((function(e){e&&(t.loading=!0,t.$_api.configuration.dbConfig(t.form,(function(e){t.loading=!1,e||(t.$notify({type:"success",title:t.$t("base.successful"),message:t.$t("configuration.databaseSaveSuccess")}),t.$emit("next-step"))})))}))},handleCancel:function(){this.$emit("prev-step")}}}),i=a,r=(o("8ecc"),o("2877")),c=Object(r["a"])(i,n,s,!1,null,"3f6eae9f",null);e["default"]=c.exports},"8a79":function(t,e,o){"use strict";var n=o("23e7"),s=o("06cf").f,a=o("50c4"),i=o("5a34"),r=o("1d80"),c=o("ab13"),l=o("c430"),u="".endsWith,d=Math.min,f=c("endsWith"),m=!l&&!f&&!!function(){var t=s(String.prototype,"endsWith");return t&&!t.writable}();n({target:"String",proto:!0,forced:!m&&!f},{endsWith:function(t){var e=String(r(this));i(t);var o=arguments.length>1?arguments[1]:void 0,n=a(e.length),s=void 0===o?n:d(a(o),n),c=String(t);return u?u.call(e,c,s):e.slice(s-c.length,s)===c}})},"8ecc":function(t,e,o){"use strict";var n=o("1737"),s=o.n(n);s.a}}]);
//# sourceMappingURL=chunk-99de6740.53c09b60.js.map