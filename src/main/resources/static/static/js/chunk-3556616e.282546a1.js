(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3556616e","chunk-121a653b","chunk-6867c763","chunk-2d20f8f4"],{"2b73":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box-view cross-chain-config"},[n("div",{staticClass:"box-header title"},[e._v(e._s(e.$t("tronCrossChain")))]),n("div",{staticClass:"box-body"},[n("el-form",{ref:"cross-chain-config-form",attrs:{model:e.form,rules:e.crossChainRules,"label-position":"top"}},[n("el-form-item",{staticClass:"baseFormItem mgt20",attrs:{label:"enableCrossChain",prop:"enableCrossChain"}},[n("el-switch",{attrs:{disabled:""},model:{value:e.form.enableCrossChain,callback:function(t){e.$set(e.form,"enableCrossChain",t)},expression:"form.enableCrossChain"}})],1),n("br"),n("el-form-item",{staticClass:"baseFormItem",attrs:{label:"maxValidatorNumber",prop:"maxValidatorNumber"}},[n("el-input",{attrs:{maxlength:50,placeholder:e.$t("tronMaxValidatorNumberPlaceholder"),disabled:""},model:{value:e.form.maxValidatorNumber,callback:function(t){e.$set(e.form,"maxValidatorNumber","string"===typeof t?t.trim():t)},expression:"form.maxValidatorNumber"}})],1),n("el-form-item",{staticClass:"baseFormItem",attrs:{label:"minValidatorNumber",prop:"minValidatorNumber"}},[n("el-input",{attrs:{maxlength:50,placeholder:e.$t("tronMinValidatorNumberPlaceholder"),disabled:""},model:{value:e.form.minValidatorNumber,callback:function(t){e.$set(e.form,"minValidatorNumber","string"===typeof t?t.trim():t)},expression:"form.minValidatorNumber"}})],1),n("el-form-item",{staticClass:"baseFormItem",attrs:{label:"crossChainFee",prop:"crossChainFee"}},[n("el-input-number",{attrs:{min:0,step:.01,maxlength:50,"controls-position":"right",placeholder:e.$t("tronSettingPlaceholder"),disabled:""},model:{value:e.form.crossChainFee,callback:function(t){e.$set(e.form,"crossChainFee","string"===typeof t?t.trim():t)},expression:"form.crossChainFee"}})],1)],1)],1),n("div",{staticClass:"box-footer align-right"},[n("el-button",{staticClass:"im-button large",on:{click:e.handleCancel}},[e._v(e._s(e.$t("base.prevStep")))]),n("el-button",{staticClass:"im-button large",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("base.nextStep")))])],1)])},r=[],o=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),a=n("61f7");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={name:"cross-chain-config",props:{configInfo:{type:Object,required:!0},initConfigInfo:{type:Function,required:!0}},data:function(){return{form:{},loading:!1}},computed:{crossChainRules:function(){var e=this,t=function(t,n,i){Object(a["c"])(n)?i():i(new Error(e.$t("tronSettingNumberPlaceholder")))},n=function(t,n,i){n>2147483647?i(new Error(e.$t("tronNumberPlaceholder"))):i()},i=function(t,n,i){e.form.minValidatorNumber&&n<e.form.minValidatorNumber?i(new Error(e.$t("tronSettingMaxNumberPlaceholder"))):i()},r=function(t,n,i){e.form.maxValidatorNumber&&n>e.form.maxValidatorNumber?i(new Error(e.$t("tronSettingMinNumberPlaceholder"))):i()},o=function(t,n,i){Object(a["d"])(n)?i():i(new Error(e.$t("validTwoDecimal")))},s={enableCrossChain:[{required:!0,message:this.$t("tronSettingPlaceholder"),trigger:"change"}],maxValidatorNumber:[{required:!0,message:this.$t("tronMaxValidatorNumberPlaceholder"),trigger:"change"},{message:this.$t("tronSettingNumberPlaceholder"),validator:t,trigger:"blur"},{message:this.$t("tronSettingMaxNumberPlaceholder"),validator:i,trigger:"blur"},{required:!0,validator:n,trigger:"blur"}],minValidatorNumber:[{required:!0,message:this.$t("tronMinValidatorNumberPlaceholder"),trigger:"change"},{message:this.$t("tronSettingNumberPlaceholder"),validator:t,trigger:"blur"},{message:this.$t("tronSettingMinNumberPlaceholder"),validator:r,trigger:"blur"},{required:!0,validator:n,trigger:"blur"}],crossChainFee:[{required:!0,message:this.$t("tronSettingPlaceholder"),trigger:"change"},{message:this.$t("tronSettingNumberTwoDecimal"),validator:o,trigger:"blur"},{required:!0,validator:n,trigger:"blur"}]};return s}},watch:{configInfo:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form=l({},e.crossChainConfig)},immediate:!0}},methods:{handleSubmit:function(){var e=this;this.$refs["cross-chain-config-form"].validate((function(t){if(t){var n=l({},e.form);e.loading=!0,e.$_api.configManage.crossChainConfig(n,(function(t){e.loading=!1,t||(e.$message.success(e.$t("tronSettingp2pSaveSuccess")),e.$emit("next-step"))}))}}))},handleCancel:function(){this.$emit("prev-step")}}},d=c,f=n("2877"),p=Object(f["a"])(d,i,r,!1,null,"e33f4d0e",null);t["default"]=p.exports},"2e9b":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box-view  network-config"},[n("div",{staticClass:"box-header title"},[e._v(e._s(e.$t("configManage.netWorkConfig")))]),n("div",{staticClass:"box-body"},[n("el-form",{ref:"network-config-form",attrs:{rules:e.networkRules,model:e.form}},[n("div",{staticClass:"switch-item"},[n("span",{staticClass:"label"},[e._v("fullNodeEnable ")]),n("el-switch",{model:{value:e.form.node_http_fullNodeEnable,callback:function(t){e.$set(e.form,"node_http_fullNodeEnable",t)},expression:"form.node_http_fullNodeEnable"}})],1),n("el-form-item",{attrs:{prop:"node_maxHttpConnectNumber"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("maxHttpConnectNumber "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.maxHttpConnectNumber"))+")")])]),n("el-input",{attrs:{maxlength:50,disabled:!e.form.node_http_fullNodeEnable,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_maxHttpConnectNumber,callback:function(t){e.$set(e.form,"node_maxHttpConnectNumber","string"===typeof t?t.trim():t)},expression:"form.node_maxHttpConnectNumber"}})],1),n("el-form-item",{attrs:{prop:"node_http_fullNodePort"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("httpFullNodePort "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.httpFullNodePort"))+")")])]),n("el-input",{attrs:{maxlength:50,disabled:!e.form.node_http_fullNodeEnable,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_http_fullNodePort,callback:function(t){e.$set(e.form,"node_http_fullNodePort","string"===typeof t?t.trim():t)},expression:"form.node_http_fullNodePort"}})],1),n("div",{staticClass:"switch-item"},[n("span",{staticClass:"label"},[e._v("solidityEnable ")]),n("el-switch",{model:{value:e.form.node_http_solidityEnable,callback:function(t){e.$set(e.form,"node_http_solidityEnable",t)},expression:"form.node_http_solidityEnable"}})],1),n("el-form-item",{attrs:{prop:"node_http_solidityPort"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("httpSolidityPort "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.httpSolidityPort"))+")")])]),n("el-input",{attrs:{maxlength:50,disabled:!e.form.node_http_solidityEnable,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_http_solidityPort,callback:function(t){e.$set(e.form,"node_http_solidityPort","string"===typeof t?t.trim():t)},expression:"form.node_http_solidityPort"}})],1),n("br"),n("el-form-item",{attrs:{prop:"node_rpc_port"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("rpcPort "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.rpcPort"))+")")])]),n("el-input",{attrs:{maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_rpc_port,callback:function(t){e.$set(e.form,"node_rpc_port","string"===typeof t?t.trim():t)},expression:"form.node_rpc_port"}})],1),n("el-form-item",{attrs:{prop:"node_rpc_solidityPort"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("rpcSolidityPort "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.rpcSolidityPort"))+")")])]),n("el-input",{attrs:{maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_rpc_solidityPort,callback:function(t){e.$set(e.form,"node_rpc_solidityPort","string"===typeof t?t.trim():t)},expression:"form.node_rpc_solidityPort"}})],1)],1)],1),n("div",{staticClass:"box-footer align-right"},[n("el-button",{staticClass:"im-button large",on:{click:e.handleCancel}},[e._v(e._s(e.$t("base.prevStep")))]),n("el-button",{staticClass:"im-button large",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("base.nextStep")))])],1)])},r=[],o=(n("a4d3"),n("99af"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),a=n("61f7");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={name:"network-config",props:{configInfo:{type:Object,required:!0},initConfigInfo:{type:Function,required:!0}},data:function(){return{form:{node_http_fullNodeEnable:!0,node_maxHttpConnectNumber:"",node_http_fullNodePort:"",node_http_solidityEnable:!0,node_http_solidityPort:"",node_rpc_port:"",node_rpc_solidityPort:""},loading:!1}},computed:{networkRules:function(){var e=this,t=function(t,n,i){Object(a["b"])(n)?i():i(new Error(e.$t("configManage.valid.gteZeroInt")))},n=function(t,n,i){n>2147483647?i(new Error(e.$t("configManage.valid.maxNumberValue"))):i()},i=function(t,n,i){n>65535?i(new Error(e.$t("configManage.valid.maxPortValue"))):i()},r=[{required:!!this.form.node_http_fullNodeEnable,message:this.$t("base.pleaseInput"),trigger:"blur"}],o=[{required:!!this.form.node_http_fullNodeEnable,message:this.$t("base.pleaseInput"),trigger:"blur"}];this.form.node_http_fullNodeEnable&&(r=r.concat([{validator:t,trigger:"blur"},{validator:n,trigger:"blur"}]),o=o.concat([{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}]));var s=[{required:!!this.form.node_http_solidityEnable,message:this.$t("base.pleaseInput"),trigger:"blur"}];return this.form.node_http_solidityEnable&&(s=s.concat([{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}])),{node_maxHttpConnectNumber:r,node_http_fullNodePort:o,node_http_solidityPort:s,node_rpc_port:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}],node_rpc_solidityPort:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}]}}},watch:{configInfo:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form=l({},e.networkConfig)},immediate:!0}},methods:{handleSubmit:function(){var e=this;this.$refs["network-config-form"].validate((function(t){if(t){var n={fullNodeEnable:e.form.node_http_fullNodeEnable,maxHttpConnectNumber:e.form.node_http_fullNodeEnable?e.form.node_maxHttpConnectNumber:void 0,httpFullNodePort:e.form.node_http_fullNodeEnable?e.form.node_http_fullNodePort:void 0,solidityEnable:e.form.node_http_solidityEnable,httpSolidityPort:e.form.node_http_solidityEnable?e.form.node_http_solidityPort:void 0,rpcPort:e.form.node_rpc_port,rpcSolidityPort:e.form.node_rpc_solidityPort};e.loading=!0,e.$_api.configManage.networkConfig(n,(function(t){e.loading=!1,t||(e.$message.success(e.$t("configManage.networkSaveSuccess")),e.$emit("next-step"))}))}}))},handleCancel:function(){this.$emit("prev-step")}}},d=c,f=(n("c202"),n("2877")),p=Object(f["a"])(d,i,r,!1,null,null,null);t["default"]=p.exports},"43e5":function(e,t,n){},"572c":function(e,t,n){},"5f06":function(e,t,n){"use strict";var i=n("43e5"),r=n.n(i);r.a},"7e9f":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-view config-manage"},[n("div",{staticClass:"im-steps"},[n("div",{class:["im-step genesis",{active:1<=e.currentStep,"is-current":1===e.currentStep}],on:{click:function(t){return e.handleSkipStep(1)}}},[n("span",[e._v(e._s(e.$t("configManage.genesisInfoConfig")))])]),n("div",{class:["im-step base",{active:2<=e.currentStep,"is-current":2===e.currentStep}],on:{click:function(t){return e.handleSkipStep(2)}}},[n("span",[e._v(e._s(e.$t("configManage.baseConfig")))])]),n("div",{class:["im-step network",{active:3<=e.currentStep,"is-current":3===e.currentStep}],on:{click:function(t){return e.handleSkipStep(3)}}},[n("span",[e._v(e._s(e.$t("configManage.netWorkConfig")))])]),n("div",{class:["im-step database",{active:4<=e.currentStep,"is-current":4===e.currentStep}],on:{click:function(t){return e.handleSkipStep(4)}}},[n("span",[e._v(e._s(e.$t("configManage.databaseConfig")))])]),n("div",{class:["im-step p2p",{active:5<=e.currentStep,"is-current":5===e.currentStep}],on:{click:function(t){return e.handleSkipStep(5)}}},[n("span",[e._v(e._s(e.$t("configManage.p2pConfig")))])])]),n(e.stepMapConfig[e.currentStep],{tag:"component",attrs:{"config-info":e.configInfo,"init-config-info":e.initConfigInfo},on:{"prev-step":e.handlePrevStep,"next-step":e.handleNextStep}})],1)},r=[],o=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("159b"),n("ade3")),a=n("c73a"),s=n("ea64"),l=n("2e9b"),c=n("9645"),d=n("7066"),f=n("2b73"),p=n("2f62");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={name:"config-manage",components:{GenesisConfig:a["default"],BaseConfig:s["default"],NetworkConfig:l["default"],DatabaseConfig:c["default"],P2pConfig:d["default"],CrossChainConfig:f["default"]},data:function(){return{currentStep:1,configInfo:{genesisAssetConfig:{},genesisWitnessConfig:{},baseSettingConfig:{},networkConfig:{},dbConfig:{},p2pConfig:{},crossChainConfig:{}},stepMapConfig:{1:"GenesisConfig",2:"BaseConfig",3:"NetworkConfig",4:"DatabaseConfig",5:"P2pConfig"},stepRange:{min:1,max:5}}},created:function(){this.initConfigInfo()},methods:b({},Object(p["c"])("app",{updateMenuList:"updateMenuList"}),{initConfigInfo:function(){var e=this;return new Promise((function(t){e.$_api.configManage.getConfigInfo({},(function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n||(e.configInfo=i,t(e.configInfo))}))}))},handleSkipStep:function(e){this.checkP2PConfigSeedNode(e)&&(this.currentStep=e)},handlePrevStep:function(){var e=this.currentStep-1;this.currentStep=e>=this.stepRange.min?e:this.stepRange.min},handleNextStep:function(){var e=this.currentStep+1;e<=this.stepRange.max?(this.currentStep=e,this.initConfigInfo()):(this.updateMenuList({activeName:"import-plugin"}),this.$router.push({path:"/import-plugin"}))},checkP2PConfigSeedNode:function(e){if(e<=5)return!0;var t=this.configInfo.p2pConfig.seed_node_ip_list||[];return!!t.length||(this.$message.warning(this.$t("tronP2pSeedNodeSelectNextTips")),!1)}})},m=g,h=(n("bee5"),n("2877")),v=Object(h["a"])(m,i,r,!1,null,"2b16fa16",null);t["default"]=v.exports},9645:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box-view database-config"},[n("div",{staticClass:"box-header title"},[e._v(e._s(e.$t("configManage.databaseConfig")))]),n("div",{staticClass:"box-body"},[n("el-form",{ref:"database-config-form",attrs:{model:e.form,"label-position":"left","label-width":"200px"}},[n("el-form-item",{attrs:{label:e.$t("configManage.selectDatabaseConfig"),prop:"storage_db_engine"}},[n("el-radio-group",{model:{value:e.form.storage_db_engine,callback:function(t){e.$set(e.form,"storage_db_engine",t)},expression:"form.storage_db_engine"}},[n("el-radio",{attrs:{label:"LEVELDB"}},[e._v("LevelDB")]),n("el-radio",{attrs:{label:"ROCKSDB"}},[e._v("RocksDB")])],1)],1),n("el-form-item",{attrs:{label:e.$t("configManage.isWriteSync"),prop:"storage_db_sync"}},[n("el-switch",{model:{value:e.form.storage_db_sync,callback:function(t){e.$set(e.form,"storage_db_sync",t)},expression:"form.storage_db_sync"}})],1),n("el-form-item",{attrs:{label:e.$t("configManage.isOpenTransaction"),prop:"storage_transHistory_switch"}},[n("el-switch",{attrs:{"active-value":"on","inactive-value":"off"},model:{value:e.form.storage_transHistory_switch,callback:function(t){e.$set(e.form,"storage_transHistory_switch",t)},expression:"form.storage_transHistory_switch"}})],1),n("el-form-item",{attrs:{label:e.$t("configManage.isNeedToUpdateAsset"),prop:"storage_needToUpdateAsset"}},[n("el-switch",{model:{value:e.form.storage_needToUpdateAsset,callback:function(t){e.$set(e.form,"storage_needToUpdateAsset",t)},expression:"form.storage_needToUpdateAsset"}})],1)],1)],1),n("div",{staticClass:"box-footer align-right"},[n("el-button",{staticClass:"im-button large",on:{click:e.handleCancel}},[e._v(e._s(e.$t("base.prevStep")))]),n("el-button",{staticClass:"im-button large",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("base.nextStep")))])],1)])},r=[],o=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={name:"database-config",props:{configInfo:{type:Object,required:!0},initConfigInfo:{type:Function,required:!0}},data:function(){return{form:{},showContent:!0,loading:!1}},watch:{configInfo:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form=s({},e.dbConfig)},immediate:!0}},methods:{handleSubmit:function(){var e=this;this.$refs["database-config-form"].validate((function(t){if(t){var n={isDBSync:e.form.storage_db_sync,isOpenTransaction:e.form.storage_transHistory_switch,dbEnine:e.form.storage_db_engine,needToUpdateAsset:e.form.storage_needToUpdateAsset};e.loading=!0,e.$_api.configManage.dbConfig(n,(function(t){e.loading=!1,t||(e.$message.success(e.$t("configManage.databaseSaveSuccess")),e.$emit("next-step"))}))}}))},handleCancel:function(){this.$emit("prev-step")}}},c=l,d=(n("5f06"),n("2877")),f=Object(d["a"])(c,i,r,!1,null,"2044f4d8",null);t["default"]=f.exports},"99af":function(e,t,n){"use strict";var i=n("23e7"),r=n("d039"),o=n("e8b5"),a=n("861d"),s=n("7b0b"),l=n("50c4"),c=n("8418"),d=n("65f0"),f=n("1dde"),p=n("b622"),u=n("60ae"),b=p("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",h=u>=51||!r((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),v=f("concat"),_=function(e){if(!a(e))return!1;var t=e[b];return void 0!==t?!!t:o(e)},C=!h||!v;i({target:"Array",proto:!0,forced:C},{concat:function(e){var t,n,i,r,o,a=s(this),f=d(a,0),p=0;for(t=-1,i=arguments.length;t<i;t++)if(o=-1===t?a:arguments[t],_(o)){if(r=l(o.length),p+r>g)throw TypeError(m);for(n=0;n<r;n++,p++)n in o&&c(f,p,o[n])}else{if(p>=g)throw TypeError(m);c(f,p++,o)}return f.length=p,f}})},b3c0:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{visible:e.dialogVisible,"custom-class":"im-dialog","close-on-click-modal":!1,"close-on-press-escape":!1,width:"680px",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("div",{staticClass:"dialog-header",attrs:{slot:"title"},slot:"title"},[n("div",{staticClass:"title"},[e._v(e._s(e.$t("configManage.witnessDialogTitle")))])]),n("div",{staticClass:"dialog-content"},[n("el-form",{attrs:{model:e.witnessInfo,"label-width":"120px","label-position":"right"}},[n("el-form-item",{attrs:{label:"Address :",prop:"address"}},[e._v(" "+e._s(e.witnessInfo.address)+" ")]),n("el-form-item",{attrs:{label:"URL :",prop:"url"}},[e._v(" "+e._s(e.witnessInfo.url)+" ")]),n("el-form-item",{attrs:{label:"VoteCount :",prop:"voteCount"}},[e._v(" "+e._s(e.witnessInfo.voteCount)+" ")])],1)],1)])},r=[],o={name:"DialogViewGenesisWitness",props:{visible:{},witnessInfo:{}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}}},a=o,s=n("2877"),l=Object(s["a"])(a,i,r,!1,null,"9979a37e",null);t["default"]=l.exports},bee5:function(e,t,n){"use strict";var i=n("c85e"),r=n.n(i);r.a},c202:function(e,t,n){"use strict";var i=n("dd75"),r=n.n(i);r.a},c73a:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box-view genesis-config"},[n("div",{staticClass:"box-header title"},[e._v(e._s(e.$t("configManage.genesisInfoConfig")))]),n("div",{staticClass:"box-body"},[n("div",{staticClass:"asset-list"},[n("div",{staticClass:"asset-title"},[e._v("Asset List")]),e._l(e.genesisBlockAssets,(function(t,i){return n("div",{key:i,staticClass:"asset-item"},[n("el-button",{staticStyle:{width:"100%"},on:{click:function(n){return e.handleAddAsset(!1,t,i)}}},[e._v(e._s(t.accountName)+" "),n("i",{staticClass:"el-icon-edit"})]),n("i",{staticClass:"delete-btn el-icon-circle-close",on:{click:function(t){return e.handleDeleteAssets(i)}}})],1)})),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleAddAsset}},[n("i",{staticClass:"el-icon-plus"}),e._v(" New Asset")])],2),n("div",{staticClass:"asset-list"},[n("div",{staticClass:"asset-title"},[e._v("Witness List")]),e._l(e.genesisBlockWitnesses,(function(t,i){return n("div",{key:i,staticClass:"asset-item"},[n("el-button",{staticStyle:{width:"100%"},on:{click:function(n){return e.handleViewWitness(t,i)}}},[e._v(e._s(t.address))])],1)}))],2)]),n("div",{staticClass:"box-footer align-right"},[n("el-button",{staticClass:"im-button large",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("base.nextStep")))])],1),e.assetDialogVisible?n("add-asset-dialog",{attrs:{visible:e.assetDialogVisible,"is-adding":e.isAddingAsset,"genesis-block-assets":e.genesisBlockAssets,"asset-info":e.currentAssetInfo,"asset-index":e.currentAssetIndex},on:{"update:visible":function(t){e.assetDialogVisible=t},success:e.initConfigInfo}}):e._e(),e.witnessDialogVisible?n("view-witness-dialog",{attrs:{visible:e.witnessDialogVisible,"witness-info":e.currentWitnessInfo},on:{"update:visible":function(t){e.witnessDialogVisible=t}}}):e._e()],1)},r=[],o=(n("a4d3"),n("4de4"),n("a434"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),a=n("cbfc"),s=n("b3c0");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"genesis-config",components:{ViewWitnessDialog:s["default"],AddAssetDialog:a["default"]},props:{configInfo:{type:Object,required:!0},initConfigInfo:{type:Function,required:!0}},data:function(){return{isAddingAsset:!0,assetDialogVisible:!1,currentAssetInfo:{},currentAssetIndex:-1,witnessDialogVisible:!1,currentWitnessInfo:{address:"",url:"",voteCount:"",privateKey:""},loading:!1}},computed:{genesisAssetConfig:function(){return this.configInfo.genesisAssetConfig||{}},genesisWitnessConfig:function(){return this.configInfo.genesisWitnessConfig||{}},genesisBlockAssets:function(){return this.genesisAssetConfig.genesis_block_assets||[]},genesisBlockWitnesses:function(){return this.genesisWitnessConfig.genesis_block_witnesses||[]}},methods:{handleAddAsset:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.currentAssetInfo=c({accountName:"",accountType:"",address:"",balance:""},e?{}:t),this.currentAssetIndex=e?this.genesisBlockAssets.length:n,this.isAddingAsset=e,this.assetDialogVisible=!0},handleDeleteAssets:function(e){var t=this;this.genesisBlockAssets.splice(e,1),this.$_api.configManage.genesisAssetConfig({assets:this.genesisBlockAssets},(function(e,n){e||t.$message.success(t.$t("configManage.assetDeleteSuccess"))}))},handleViewWitness:function(e){this.currentWitnessInfo=e,this.witnessDialogVisible=!0},handleSubmit:function(){this.$emit("next-step")}}},f=d,p=(n("eb98"),n("2877")),u=Object(p["a"])(f,i,r,!1,null,"c4dbafbe",null);t["default"]=u.exports},c85e:function(e,t,n){},dd75:function(e,t,n){},ea64:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box-view base-config"},[n("div",{staticClass:"box-header title"},[e._v(e._s(e.$t("configManage.baseConfig")))]),n("div",{staticClass:"box-body"},[n("el-form",{ref:"base-config-form",attrs:{rules:e.baseRules,model:e.form}},[n("el-form-item",{attrs:{prop:"chainId"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("chainId "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.chainId"))+")")])]),n("el-input",{attrs:{type:"number",min:"0",max:"2147483647",maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.chainId,callback:function(t){e.$set(e.form,"chainId","string"===typeof t?t.trim():t)},expression:"form.chainId"}})],1),n("el-form-item",{attrs:{prop:"chainName"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("chainName")]),n("el-input",{attrs:{maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.chainName,callback:function(t){e.$set(e.form,"chainName","string"===typeof t?t.trim():t)},expression:"form.chainName"}})],1),n("el-form-item",{attrs:{prop:"block_maintenanceTimeInterval"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("maintenanceTimeInterval "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.maintenanceTimeInterval"))+": ms)")])]),n("el-input",{attrs:{type:"number",min:"0",maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.block_maintenanceTimeInterval,callback:function(t){e.$set(e.form,"block_maintenanceTimeInterval","string"===typeof t?t.trim():t)},expression:"form.block_maintenanceTimeInterval"}})],1),n("div",{staticClass:"more-form"},[n("el-button",{attrs:{type:"text"},on:{click:function(t){e.showMore=!e.showMore}}},[n("i",{staticClass:"el-icon-arrow-right"}),e._v(" "+e._s(e.$t("configManage.moreSetting")))])],1),n("el-collapse-transition",[e.showMore?n("div",[n("el-form-item",{attrs:{prop:"block_proposalExpireTime"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("proposalExpireTime "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.blockProposalExpireTime"))+": ms)")])]),n("el-input",{attrs:{type:"number",min:"0",maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.block_proposalExpireTime,callback:function(t){e.$set(e.form,"block_proposalExpireTime","string"===typeof t?t.trim():t)},expression:"form.block_proposalExpireTime"}})],1),n("el-form-item",{attrs:{prop:"node_blockProducedTimeOut"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("producedTimeOut "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.nodeBlockProducedTimeOut"))+": 0 - 100%)")])]),n("el-input",{attrs:{type:"number",min:"0",max:"100",maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_blockProducedTimeOut,callback:function(t){e.$set(e.form,"node_blockProducedTimeOut","string"===typeof t?t.trim():t)},expression:"form.node_blockProducedTimeOut"}})],1),n("el-form-item",{attrs:{prop:"node_minParticipationRate"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("participationRate "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.nodeMinParticipationRate"))+")")])]),n("el-input",{attrs:{maxlength:50,clearable:"",placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_minParticipationRate,callback:function(t){e.$set(e.form,"node_minParticipationRate","string"===typeof t?t.trim():t)},expression:"form.node_minParticipationRate"}})],1)],1):e._e()])],1)],1),n("div",{staticClass:"box-footer align-right"},[n("el-button",{staticClass:"im-button large",on:{click:e.handleCancel}},[e._v(e._s(e.$t("base.prevStep")))]),n("el-button",{staticClass:"im-button large",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("base.nextStep")))])],1)])},r=[],o=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),a=n("61f7");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){Object(o["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={name:"base-config",props:{configInfo:{type:Object,required:!0},initConfigInfo:{type:Function,required:!0}},data:function(){return{form:{},showMore:!1,loading:!1}},computed:{baseRules:function(){var e=this,t=function(t,n,i){Object(a["c"])(n)?i():i(new Error(e.$t("configManage.valid.gtZeroInt")))},n=function(t,n,i){Object(a["b"])(n)?i():i(new Error(e.$t("configManage.valid.gteZeroInt")))},i=function(t,n,i){n>2147483647?i(new Error(e.$t("configManage.valid.maxNumberValue"))):i()},r=function(t,n,i){n>100?i(new Error(e.$t("configManage.valid.maxNumberValue"))):i()};return{chainId:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}],chainName:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"}],block_proposalExpireTime:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}],block_maintenanceTimeInterval:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:i,trigger:"blur"}],node_blockProducedTimeOut:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:r,trigger:"blur"}],node_minParticipationRate:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:n,trigger:"blur"},{validator:i,trigger:"blur"}]}}},watch:{configInfo:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.form=l({},e.baseSettingConfig)},immediate:!0}},methods:{handleSubmit:function(){var e=this;this.$refs["base-config-form"].validate((function(t){if(t){var n={chainId:e.form.chainId,chainName:e.form.chainName,blockProducedTimeOut:e.form.node_blockProducedTimeOut,maintenanceTimeInterval:e.form.block_maintenanceTimeInterval,proposalExpireTime:e.form.block_proposalExpireTime,minParticipationRate:e.form.node_minParticipationRate};e.loading=!0,e.$_api.configManage.baseSettingConfig(n,(function(t){e.loading=!1,t||(e.$message.success(e.$t("configManage.baseSaveSuccess")),e.$emit("next-step"))}))}}))},handleCancel:function(){this.$emit("prev-step")}}},d=c,f=n("2877"),p=Object(f["a"])(d,i,r,!1,null,"6728b9a1",null);t["default"]=p.exports},eb98:function(e,t,n){"use strict";var i=n("572c"),r=n.n(i);r.a}}]);
//# sourceMappingURL=chunk-3556616e.282546a1.js.map