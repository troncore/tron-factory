(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"12c8":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("div",{staticClass:"page-title"},[t._v(t._s(t.$t("getStarted.dashboard.dashboard")))]),a("div",{staticClass:"chain-info im-card"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"card-title"},[t._v(t._s(t.$t("getStarted.dashboard.chainInfo")))]),a("div",{staticClass:"op-list"},[a("el-button",{staticClass:"im-button mini",attrs:{type:"primary",disabled:!t.canOPChain||t.deleteLoading},on:{click:t.handleUpdate}},[a("i",{staticClass:"el-icon-edit"}),t._v(" "+t._s(t.$t("base.edit")))]),a("el-button",{staticClass:"im-button mini",attrs:{disabled:!t.canOPChain||t.deleteLoading},on:{click:t.handleDelete}},[a("i",{staticClass:"el-icon-delete"}),t._v(" "+t._s(t.$t("base.delete")))])],1)]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"chain-item"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("getStarted.dashboard.chainName")))]),a("div",{staticClass:"value"},[t._v(t._s(t.chainInfo.chainName||"-"))])]),a("div",{staticClass:"chain-item"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("getStarted.dashboard.encryption")))]),a("div",{staticClass:"value"},[t._v(t._s(t.chainInfo.crypto||"-"))])]),a("div",{staticClass:"chain-item"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("getStarted.dashboard.p2pVersion")))]),a("div",{staticClass:"value"},[t._v(t._s(t.chainInfo.p2pVersion||"-"))])]),a("div",{staticClass:"chain-item"},[a("div",{staticClass:"label"},[a("span",{staticClass:"label-inner"},[t._v(" "+t._s(t.$t("getStarted.dashboard.status"))+" "),a("im-tooltip",{staticClass:"im-tooltip",attrs:{content:t.$t("getStarted.dashboard.statusTips")}})],1)]),a("div",{staticClass:"value"},[t._v(" "+t._s(t.$t(["getStarted.dashboard.unPublish","getStarted.dashboard.publishing","getStarted.dashboard.published"][t.chainStatus]||"-"))+" ")])])])]),a("node-list",{attrs:{"chain-status":t.chainStatus},on:{nodeList:t.getNodeList,checkChainPublish:function(e){return t.checkChainPublish()}}})],1)},s=[],n=(a("a623"),a("caad"),a("3e60")),c=a("8e6c"),o={name:"dashboard",components:{ImTooltip:c["a"],NodeList:n["default"]},data:function(){return{chainInfo:{chainName:"",crypto:"",p2pVersion:""},chainStatus:-1,nodeList:[],deleteLoading:!1,timeoutID:null}},computed:{canOPChain:function(){return!this.nodeList.length||this.nodeList.every((function(t){return 1!==t.deployStatus&&t.showStop}))}},created:function(){this.getChainInfo(),this.pollChainStatus()},destroyed:function(){clearTimeout(this.timeoutID)},methods:{getChainInfo:function(){var t=this;this.$_api.getStarted.getChainInfo({},(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(t.chainInfo={chainName:a.chainName,crypto:a.crypto,p2pVersion:a.p2pVersion})}))},pollChainStatus:function(){clearTimeout(this.timeoutID),this.timeoutID=setTimeout(this.checkChainPublish,600)},checkChainPublish:function(){var t=this;this.$_api.getStarted.checkChainPublish({},(function(e,a){if(e)return t.chainStatus=-1,void clearTimeout(t.timeoutID);t.chainStatus=a,[0,2].includes(t.chainStatus)?clearTimeout(t.timeoutID):t.pollChainStatus()}))},handleUpdate:function(){this.$router.push("/get-started/chain-edit")},handleDelete:function(){this.$confirm(this.$t("getStarted.dashboard.deleteChainWarningTips"),this.$t("base.tips"),{cancelButtonText:this.$t("base.cancel"),confirmButtonText:this.$t("base.delete"),center:!0,customClass:"im-message-box",cancelButtonClass:"im-message-cancel-button",confirmButtonClass:"im-message-confirm-button warning"}).then(this.deleteChain).catch((function(t){return console.log("err: ",t)}))},deleteChain:function(){var t=this;this.deleteLoading=!0,this.$_api.getStarted.deleteChain({},(function(e,a){t.deleteLoading=!1,e||(t.$notify.success({title:t.$t("base.successful"),message:t.$t("base.success.delete")}),t.$router.push("/get-started"))}))},getNodeList:function(t){this.nodeList=t}}},r=o,d=(a("9349"),a("2877")),l=Object(d["a"])(r,i,s,!1,null,"0877e3db",null);e["default"]=l.exports},"4e26":function(t,e,a){"use strict";var i=a("568a"),s=a.n(i);s.a},"568a":function(t,e,a){},"8e6c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tooltip",{attrs:{effect:t.effect,placement:t.placement}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.content)},slot:"content"}),a("i",{staticClass:"icon-question fa fa-question-circle-o",style:t.myStyle})])},s=[],n={name:"im-tooltip",props:{effect:{type:String,default:"dark"},placement:{type:String,default:"top"},content:{},marginLeft:String,marginRight:String},computed:{myStyle:function(){var t={};return"undefined"!==typeof this.marginLeft&&(t.marginLeft=this.marginLeft),"undefined"!==typeof this.marginRight&&(t.marginRight=this.marginRight),t}}},c=n,o=(a("4e26"),a("2877")),r=Object(o["a"])(c,i,s,!1,null,"cc688580",null);e["a"]=r.exports},9349:function(t,e,a){"use strict";var i=a("e52d"),s=a.n(i);s.a},a623:function(t,e,a){"use strict";var i=a("23e7"),s=a("b727").every,n=a("a640"),c=a("ae40"),o=n("every"),r=c("every");i({target:"Array",proto:!0,forced:!o||!r},{every:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},e52d:function(t,e,a){}}]);
//# sourceMappingURL=dashboard.e3ca5d12.js.map