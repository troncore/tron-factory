(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-766c1111"],{1276:function(e,t,n){"use strict";var r=n("d784"),o=n("44e7"),i=n("825a"),a=n("1d80"),s=n("4840"),l=n("8aa5"),c=n("50c4"),d=n("14c3"),p=n("9263"),u=n("d039"),f=[].push,g=Math.min,m=4294967295,v=!u((function(){return!RegExp(m,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(a(this)),i=void 0===n?m:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,i);var s,l,c,d=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,v=new RegExp(e.source,u+"g");while(s=p.call(v,r)){if(l=v.lastIndex,l>g&&(d.push(r.slice(g,s.index)),s.length>1&&s.index<r.length&&f.apply(d,s.slice(1)),c=s[0].length,g=l,d.length>=i))break;v.lastIndex===s.index&&v.lastIndex++}return g===r.length?!c&&v.test("")||d.push(""):d.push(r.slice(g)),d.length>i?d.slice(0,i):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=a(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var a=n(r,e,this,o,r!==t);if(a.done)return a.value;var p=i(e),u=String(this),f=s(p,RegExp),_=p.unicode,b=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(v?"y":"g"),h=new f(v?p:"^(?:"+p.source+")",b),x=void 0===o?m:o>>>0;if(0===x)return[];if(0===u.length)return null===d(h,u)?[u]:[];var $=0,I=0,C=[];while(I<u.length){h.lastIndex=v?I:0;var w,y=d(h,v?u:u.slice(I));if(null===y||(w=g(c(h.lastIndex+(v?0:I)),u.length))===$)I=l(u,I,_);else{if(C.push(u.slice($,I)),C.length===x)return C;for(var N=1;N<=y.length-1;N++)if(C.push(y[N]),C.length===x)return C;I=$=w}}return C.push(u.slice($)),C}]}),!v)},"498a":function(e,t,n){"use strict";var r=n("23e7"),o=n("58a8").trim,i=n("e070");r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return o(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),o=n("5899"),i="["+o+"]",a=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),l=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},"61f7":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a}));n("c975"),n("498a");function r(e){var t=/^[0-9]*[1-9][0-9]*$/;return t.test(e)}function o(e){var t=/^\d+$/;return t.test(e)}function i(e){var t=/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/;return t.test(e)}function a(e){var t=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;return t.test(e)}},"6a5d":function(e,t,n){"use strict";var r=n("77ac"),o=n.n(r);o.a},7066:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box-view p2p-config"},[n("div",{staticClass:"box-header title"},[e._v(e._s(e.$t("configManage.p2pConfig")))]),n("div",{staticClass:"box-body"},[n("el-form",{ref:"p2p-config-form",attrs:{rules:e.formRules,model:e.form,"label-position":"top"}},[n("el-form-item",{attrs:{prop:"node_p2p_version",label:"p2pVersion"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("p2pVersion "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.p2pVersion"))+")")])]),n("el-input",{attrs:{type:"number",maxlength:50,placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_p2p_version,callback:function(t){e.$set(e.form,"node_p2p_version","string"===typeof t?t.trim():t)},expression:"form.node_p2p_version"}})],1),n("el-form-item",{attrs:{label:"listenPort",prop:"node_listen_port"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("listenPort "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.listenPort"))+")")])]),n("el-input",{attrs:{maxlength:50,placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_listen_port,callback:function(t){e.$set(e.form,"node_listen_port","string"===typeof t?t.trim():t)},expression:"form.node_listen_port"}})],1),n("el-form-item",{staticClass:"seed-node-list",attrs:{label:"seedNodeList",prop:"seed_node_ip_list"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("seedNodeList "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.seedNodeList"))+")")])]),n("el-checkbox-group",{model:{value:e.form.seed_node_ip_list,callback:function(t){e.$set(e.form,"seed_node_ip_list",t)},expression:"form.seed_node_ip_list"}},e._l(e.seedNodeIpList,(function(t,r){return n("el-checkbox",{key:r,staticClass:"checkBox",attrs:{label:t}},[n("el-input",{attrs:{placeholder:e.$t("configManage.valid.listenPort"),disabled:""},model:{value:e.form.node_listen_port,callback:function(t){e.$set(e.form,"node_listen_port",t)},expression:"form.node_listen_port"}},[n("template",{staticStyle:{width:"100px"},slot:"prepend"},[e._v(e._s(t))])],2)],1)})),1)],1),n("div",{staticClass:"more-form"},[n("el-button",{attrs:{type:"text"},on:{click:function(t){e.showMore=!e.showMore}}},[n("i",{staticClass:"el-icon-arrow-right"}),e._v(" "+e._s(e.$t("configManage.moreSetting")))])],1),n("el-collapse-transition",[e.showMore?n("div",[n("el-form-item",{attrs:{label:"maxActiveNodes",prop:"node_maxActiveNodes"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("maxActiveNodes "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.maxActiveNodes"))+")")])]),n("el-input",{attrs:{maxlength:50,placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_maxActiveNodes,callback:function(t){e.$set(e.form,"node_maxActiveNodes","string"===typeof t?t.trim():t)},expression:"form.node_maxActiveNodes"}})],1),n("el-form-item",{attrs:{label:"maxActiveNodesWithSameIp",prop:"node_maxActiveNodesWithSameIp"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("maxActiveNodesWithSameIp "),n("i",{staticClass:"help-tips"},[e._v("("+e._s(e.$t("configManage.helpTips.maxActiveNodesWithSameIp"))+")")])]),n("el-input",{attrs:{maxlength:50,placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_maxActiveNodesWithSameIp,callback:function(t){e.$set(e.form,"node_maxActiveNodesWithSameIp","string"===typeof t?t.trim():t)},expression:"form.node_maxActiveNodesWithSameIp"}})],1),n("el-form-item",{attrs:{label:"activeConnectFactor",prop:"node_activeConnectFactor"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("activeConnectFactor")]),n("el-input-number",{attrs:{"controls-position":"right",min:0,step:.1,maxlength:50,placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_activeConnectFactor,callback:function(t){e.$set(e.form,"node_activeConnectFactor","string"===typeof t?t.trim():t)},expression:"form.node_activeConnectFactor"}})],1),n("el-form-item",{attrs:{label:"connectFactor",prop:"node_connectFactor"}},[n("span",{attrs:{slot:"label"},slot:"label"},[e._v("connectFactor")]),n("el-input-number",{attrs:{"controls-position":"right",min:0,step:.1,maxlength:50,placeholder:e.$t("base.pleaseInput")},model:{value:e.form.node_connectFactor,callback:function(t){e.$set(e.form,"node_connectFactor","string"===typeof t?t.trim():t)},expression:"form.node_connectFactor"}})],1)],1):e._e()])],1)],1),n("div",{staticClass:"box-footer align-right"},[n("el-button",{staticClass:"im-button large",on:{click:e.handleCancel}},[e._v(e._s(e.$t("base.prevStep")))]),n("el-button",{staticClass:"im-button large",attrs:{loading:e.loading,type:"primary"},on:{click:e.handleSubmit}},[e._v(e._s(e.$t("base.nextStep")))])],1)])},o=[],i=(n("a4d3"),n("4de4"),n("d81d"),n("e439"),n("dbb4"),n("b64b"),n("ac1f"),n("1276"),n("159b"),n("ade3")),a=n("2909"),s=n("61f7");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"p2p-config",props:{configInfo:{type:Object,required:!0},initConfigInfo:{type:Function,required:!0}},data:function(){return{showMore:!1,moreSetting:!1,form:{seed_node_ip_list:[],node_p2p_version:"",node_listen_port:"",node_maxActiveNodes:"",node_maxActiveNodesWithSameIp:"",node_connectFactor:"",node_activeConnectFactor:""},seedNodeIpList:[],loading:!1}},computed:{formRules:function(){var e=this,t=function(t,n,r){Object(s["b"])(n)?r():r(new Error(e.$t("configManage.valid.gteZeroInt")))},n=function(t,n,r){n>2147483647?r(new Error(e.$t("configManage.valid.maxNumberValue"))):r()},r=function(t,n,r){11111==n?r(new Error(e.$t("configManage.valid.mainnetPlaceholder"))):r()},o=function(t,n,r){20180622==n?r(new Error(e.$t("configManage.valid.testnetPlaceholder"))):r()},i=function(t,n,r){1==n?r(new Error(e.$t("configManage.valid.specialPlaceholder"))):r()},a=function(t,n,r){n>65535?r(new Error(e.$t("configManage.valid.maxPortValue"))):r()},l=function(t,n,r){Object(s["d"])(n)?r():r(new Error(e.$t("configManage.valid.validTwoDecimal")))},c={node_p2p_version:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:r,trigger:"blur"},{validator:o,trigger:"blur"},{validator:i,trigger:"blur"},{validator:n,trigger:"blur"}],node_listen_port:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:a,trigger:"blur"}],seed_node_ip_list:[{required:!0,message:this.$t("base.pleaseSelect"),trigger:"change"}],node_maxActiveNodes:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:n,trigger:"blur"}],node_maxActiveNodesWithSameIp:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:t,trigger:"blur"},{validator:n,trigger:"blur"}],node_activeConnectFactor:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:n,trigger:"blur"},{validator:l,trigger:"blur"}],node_connectFactor:[{required:!0,message:this.$t("base.pleaseInput"),trigger:"blur"},{validator:n,trigger:"blur"},{validator:l,trigger:"blur"}]};return c}},watch:{configInfo:{handler:"init",immediate:!0}},methods:{init:function(){var e=this.configInfo.p2pConfig||{},t=e.seed_node_ip_list||[],n=t.map((function(e){return e.split(":")[0]}));this.seedNodeIpList=e.allNodes||[],n.length||(n=Object(a["a"])(this.seedNodeIpList)),this.form=c({},this.form,{},e,{seed_node_ip_list:n})},handleSubmit:function(){var e=this;this.$refs["p2p-config-form"].validate((function(t){if(t){var n={p2pVersion:e.form.node_p2p_version,listenPort:e.form.node_listen_port,seed_node_ip_list:e.form.seed_node_ip_list.map((function(t){return t+'":"'+e.form.node_listen_port})),maxActiveNodes:e.form.node_maxActiveNodes,nodeActiveConnectFactor:e.form.node_activeConnectFactor,nodeMaxActiveNodesWithSameIp:e.form.node_maxActiveNodesWithSameIp,connectFactor:e.form.node_connectFactor};e.loading=!0,e.$_api.configManage.p2pConfig(n,(function(t){e.loading=!1,t||(e.$message.success(e.$t("configManage.p2pSaveSuccess")),e.$emit("next-step"))}))}}))},handleCancel:function(){this.$emit("prev-step")}}},p=d,u=(n("6a5d"),n("2877")),f=Object(u["a"])(p,r,o,!1,null,"9f437dae",null);t["default"]=f.exports},"77ac":function(e,t,n){},e070:function(e,t,n){var r=n("d039"),o=n("5899"),i="​᠎";e.exports=function(e){return r((function(){return!!o[e]()||i[e]()!=i||o[e].name!==e}))}}}]);
//# sourceMappingURL=chunk-766c1111.32e51a1d.js.map